/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[256,41,42,65,108,123,143,200,201,202,207,213,267],{1022:function(t,e,n){t.exports=n.p+"img/OpenedFolder.203499a.svg"},1023:function(t,e,n){var content=n(1367);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("e77c3b0e",content,!0,{sourceMap:!1})},1024:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE0LjggMTZjLS4zIDAtLjYtLjEtLjktLjRsLTMuMy0zLjNjLTEuMS44LTIuNSAxLjItMy44IDEuMi0zLjggMC02LjgtMy02LjgtNi43QzAgMyAzIDAgNi44IDBjMy43IDAgNi44IDMgNi44IDYuOCAwIDEuNC0uNCAyLjctMS4yIDMuOGwzLjMgMy4zYy4yLjIuNC41LjQuOS0uMS43LS42IDEuMi0xLjMgMS4yem0tOC0xMy41Yy0yLjQgMC00LjMgMS45LTQuMyA0LjNzMS45IDQuMyA0LjMgNC4zIDQuMy0xLjkgNC4zLTQuMy0yLTQuMy00LjMtNC4zeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik05IDUuOEg3LjhWNC41YzAtLjItLjEtLjMtLjMtLjNINi4xYy0uMiAwLS4zLjEtLjMuM3YxLjNINC41Yy0uMiAwLS4zLjEtLjMuM3YxLjRjMCAuMi4xLjMuMy4zaDEuM1Y5YzAgLjIuMS4zLjMuM2gxLjRjLjIgMCAuMy0uMS4zLS4zVjcuOEg5Yy4yIDAgLjMtLjEuMy0uM1Y2LjFjMC0uMi0uMS0uMy0uMy0uM3oiLz48L3N2Zz4="},1025:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE0LjggMTZjLS4zIDAtLjYtLjEtLjktLjRsLTMuMy0zLjNjLTEuMS44LTIuNSAxLjItMy44IDEuMi0zLjggMC02LjgtMy02LjgtNi43QzAgMyAzIDAgNi44IDBjMy43IDAgNi44IDMgNi44IDYuOCAwIDEuNC0uNCAyLjctMS4yIDMuOGwzLjMgMy4zYy4yLjIuNC41LjQuOS0uMS43LS42IDEuMi0xLjMgMS4yem0tOC0xMy41Yy0yLjQgMC00LjMgMS45LTQuMyA0LjNzMS45IDQuMyA0LjMgNC4zIDQuMy0xLjkgNC4zLTQuMy0yLTQuMy00LjMtNC4zeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik05LjMgNy41YzAgLjItLjEuMy0uMy4zSDQuNWMtLjIgMC0uMy0uMS0uMy0uM1Y2LjFjMC0uMi4xLS4zLjMtLjNIOWMuMiAwIC4zLjEuMy4zdjEuNHoiLz48L3N2Zz4="},1026:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTEyLjEgOC45bC0uNC40Yy0uMS4xLS4zLjItLjUuMnMtLjQtLjEtLjUtLjJMOS4xIDcuN3YzLjljMCAuNC0uMy42LS43LjZoLS44Yy0uNCAwLS43LS4yLS43LS42VjcuN0w1LjMgOS4zYy0uMS4xLS4zLjItLjUuMnMtLjQtLjEtLjUtLjJsLS40LS40Yy0uMS0uMi0uMi0uMy0uMi0uNXMuMS0uNC4yLS41bDMuNi0zLjZjLjEtLjIuMy0uMi41LS4ycy40LjEuNS4ybDMuNiAzLjZjLjEuMS4yLjMuMi41cy0uMS4zLS4yLjV6Ii8+PC9zdmc+"},1027:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTguNyA0bC40LjRjLjEuMS4yLjMuMi41cy0uMS40LS4yLjVMNy41IDcuMWgzLjljLjQgMCAuNi4zLjYuN3YuN2MwIC40LS4yLjctLjYuN0g3LjVsMS42IDEuNmMuMS4xLjIuMy4yLjVzLS4xLjQtLjIuNWwtLjQuNGMtLjEuMS0uMy4yLS41LjJzLS40LS4xLS41LS4yTDQuMSA4LjZjLS4xLS4xLS4yLS4zLS4yLS41cy4xLS40LjItLjVMNy43IDRjLjEtLjEuMy0uMi41LS4ycy40LjEuNS4yeiIvPjwvc3ZnPg=="},1028:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTcuMyAxMi4ybC0uNC0uNGMtLjEtLjEtLjItLjMtLjItLjVzLjEtLjQuMi0uNWwxLjYtMS42SDQuNmMtLjQgMC0uNi0uMy0uNi0uN3YtLjdjMC0uNC4yLS43LjYtLjdoMy45TDYuOSA1LjRjLS4yLS4xLS4zLS4zLS4zLS41cy4xLS40LjItLjVsLjUtLjRjLjEtLjEuMy0uMi41LS4ycy4zLjEuNS4ybDMuNiAzLjZjLjEuMS4yLjMuMi41cy0uMS40LS4yLjVsLTMuNiAzLjZjLS4xLjEtLjMuMi0uNS4ycy0uNCAwLS41LS4yeiIvPjwvc3ZnPg=="},1029:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMuOSA3LjRsLjQtLjRjLjEtLjEuMy0uMi41LS4ycy40IDAgLjUuMmwxLjYgMS42VjQuN2MwLS40LjMtLjYuNy0uNmguN2MuNCAwIC43LjIuNy42djMuOUwxMC43IDdjLjEtLjEuMy0uMi41LS4ycy40LjEuNS4ybC40LjRjLjEuMS4yLjMuMi41cy0uMS40LS4yLjVMOC41IDEyYy0uMS4xLS4zLjItLjUuMnMtLjQtLjEtLjUtLjJMMy45IDguNGMtLjEtLjEtLjItLjMtLjItLjVzLjEtLjQuMi0uNXoiLz48L3N2Zz4="},1030:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMy45IiB2aWV3Qm94PSIyODkuNyA0MTQgMTYgMTMuOSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMwNS41IDQxOS44aC0yYy0uNi0zLjMtMy40LTUuOC02LjgtNS44LTMuOCAwLTYuOSAzLjEtNi45IDYuOXMzLjEgNi45IDYuOSA2LjljMS43IDAgMy4zLS42IDQuNi0xLjdsLTEuNC0xLjhjLS44LjgtMS45IDEuMi0zLjEgMS4yLTIuNSAwLTQuNi0yLjEtNC42LTQuNnMyLjEtNC42IDQuNi00LjZjMi4xIDAgMy45IDEuNSA0LjUgMy41aC0yYy0uMyAwLS4zLjItLjIuNGwzLjEgMy44Yy4yLjIuNC4yLjYgMGwzLjEtMy44Yy0uMS0uMy0uMi0uNC0uNC0uNHoiLz48L3N2Zz4="},1031:function(t,e,n){"use strict";n.d(e,"a",(function(){return ie}));var o=n(0);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function i(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?r(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(null==t)return{};var i,n,s=function(t,e){if(null==t)return{};var i,n,s={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}function c(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a,d,f=(a=function(t){!function(){var e={}.hasOwnProperty;function i(){for(var t=[],n=0;n<arguments.length;n++){var s=arguments[n];if(s){var o=typeof s;if("string"===o||"number"===o)t.push(s);else if(Array.isArray(s)){if(s.length){var r=i.apply(null,s);r&&t.push(r)}}else if("object"===o)if(s.toString===Object.prototype.toString)for(var a in s)e.call(s,a)&&s[a]&&t.push(a);else t.push(s.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i}()},a(d={path:undefined,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&d.path)}},d.exports),d.exports),m=function(t){return function(e,i){if(!e)return t;var n;"string"==typeof e?n=e:i=e;var s=t;return n&&(s+="__"+n),s+(i?Object.keys(i).reduce((function(t,e){var n=i[e];return n&&(t+=" "+("boolean"==typeof n?s+"--"+e:s+"--"+e+"_"+n)),t}),""):"")}};function u(t,e,i){var n,s,o,r,a;function l(){var c=Date.now()-r;c<e&&c>=0?n=setTimeout(l,e-c):(n=null,i||(a=t.apply(o,s),o=s=null))}null==e&&(e=100);var c=function(){o=this,s=arguments,r=Date.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(a=t.apply(o,s),o=s=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=t.apply(o,s),o=s=null,clearTimeout(n),n=null)},c}u.debounce=u;var v=u,w=function(){return w=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},w.apply(this,arguments)};function p(t,e){var i,n;return t&&e?(i=""+t+e[0].toUpperCase()+e.slice(1),n=t+"-"+e):(i=t||e,n=t||e),{name:i,classname:n}}function g(t){return/^blob:/.test(t)}function x(t){return g(t)||function(t){return/^data:/.test(t)}(t)}function b(t){return!!(t&&t.constructor&&t.call&&t.apply)}function y(t){return void 0===t}function M(t){return"object"==typeof t&&null!==t}function z(t,e,i){var n={};return M(t)?(Object.keys(e).forEach((function(s){y(t[s])?n[s]=e[s]:M(e[s])?M(t[s])?n[s]=z(t[s],e[s],i[s]):n[s]=t[s]?e[s]:i[s]:!0===e[s]||!1===e[s]?n[s]=Boolean(t[s]):n[s]=t[s]})),n):t?e:i}function C(t){var e=Number(t);return Number.isNaN(e)?t:e}function S(t){return typeof("number"==t||function(t){return"object"==typeof t&&null!==t}(t)&&"[object Number]"==toString.call(t))&&!_(t)}function _(t){return t!=t}function L(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var j=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},A=function(t,e){void 0===e&&(e={}),this.type="resize",this.directions=t,this.params=e},R=function(t){this.type="move",this.directions=t},I=function(){function t(t,e,i,n,s){this.type="drag",this.nativeEvent=t,this.position=i,this.previousPosition=n,this.element=e,this.anchor=s}return t.prototype.shift=function(){var t=this,e=t.element,i=t.anchor,n=t.position,s=e.getBoundingClientRect(),o=s.left,r=s.top;return{left:n.left-o-i.left,top:n.top-r-i.top}},t}();function E(t,e,i,n,s,o,r,a,l,c){"boolean"!=typeof r&&(l=a,a=r,r=!1);const h="function"==typeof i?i.options:i;let d;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),n&&(h._scopeId=n),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=d):e&&(d=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(h.functional){const t=h.render;h.render=function(e,i){return d.call(i),t(e,i)}}else{const t=h.beforeCreate;h.beforeCreate=t?[].concat(t,d):[d]}return i}var k=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"draggable",class:t.classname,on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&1===t.touches.length&&(this.touches=c(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce((function(e,i){return{clientX:e.clientX+i.clientX/t.touches.length,clientY:e.clientY+i.clientY/t.touches.length}}),{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),i=e.left,n=e.right,s=e.bottom,o=e.top;this.anchor={left:t.clientX-i,top:t.clientY-o,bottom:s-t.clientY,right:n-t.clientX}},processMove:function(t,e){var i=c(e);if(this.touches.length){if(1===this.touches.length&&1===i.length){var n=this.$refs.draggable;this.$emit("drag",new I(t,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}}}],props:{classname:{type:String}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P=m("vue-handler-wrapper"),F=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("DraggableElement",{class:t.classes.draggable,on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)],1)},staticRenderFns:[]},void 0,{name:"HandlerWrapper",components:{DraggableElement:k},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,i=p(this.horizontalPosition,this.verticalPosition);t=P((l(e={},i.classname,!0),l(e,"disabled",this.disabled),e))}else t=P({disabled:this.disabled});return{root:t,draggable:P("draggable")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),D=m("vue-line-wrapper"),T=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DraggableElement",{class:t.classname,on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"LineWrapper",components:{DraggableElement:k},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return D((l(t={},this.position,!0),l(t,"disabled",this.disabled),t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),O=["left","right","top","bottom"],N=["left","right"],$=["top","bottom"],H=["left","top"],W=["fill-area","fit-area","stencil","none"],B={left:0,top:0,width:0,height:0};function Y(t,e,i){return!(i=i||["width","height","left","top"]).some((function(i){return t[i]!==e[i]}))}function U(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function Z(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Q(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function V(t,e){var i={left:0,top:0,right:0,bottom:0};return O.forEach((function(n){var s=e[n],o=U(t)[n];i[n]=void 0!==s&&void 0!==o?"left"===n||"top"===n?Math.max(0,s-o):Math.max(0,o-s):0})),i}function X(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function G(t){return{left:-t.left,top:-t.top}}function q(t,e){return w(w({},t),{left:t.left+e.left,top:t.top+e.top})}function J(t,e,i,n){if(1!==e){if(i){var s=Q(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(i.left-s.left)*(n||1-e),top:t.top+t.height*(1-e)/2+(i.top-s.top)*(n||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function K(t){return t.width/t.height}function tt(t,e){return Math.min(void 0!==e.right&&void 0!==e.left?(e.right-e.left)/t.width:1/0,void 0!==e.bottom&&void 0!==e.top?(e.bottom-e.top)/t.height:1/0)}function et(t,e){var i={left:0,top:0},n=V(t,e);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function it(t,e){var i;return e.minimum&&t<e.minimum?i=e.minimum:e.maximum&&t>e.maximum&&(i=e.maximum),i}function nt(t,e){var i=K(t),n=K(e);return e.width<1/0&&e.height<1/0?i>n?{width:e.width,height:e.width/i}:{width:e.height*i,height:e.height}:e.width<1/0?{width:e.width,height:e.width/i}:e.height<1/0?{width:e.height*i,height:e.height}:t}function ot(t,e){var i=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(i))+Math.abs(t.height*Math.sin(i)),height:Math.abs(t.width*Math.sin(i))+Math.abs(t.height*Math.cos(i))}}function st(t,e){var i=e*Math.PI/180;return{left:t.left*Math.cos(i)-t.top*Math.sin(i),top:t.left*Math.sin(i)+t.top*Math.cos(i)}}function at(t,e){var i=V(lt(t,e),e);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((t.width+i.left+i.right)/t.width,tt(t,e)):Math.min((t.height+i.top+i.bottom)/t.height,tt(t,e)):1}function lt(t,e,i){void 0===i&&(i=!1);var n=et(t,e);return q(t,i?G(n):n)}function rt(t){return{width:void 0!==t.right&&void 0!==t.left?t.right-t.left:1/0,height:void 0!==t.bottom&&void 0!==t.top?t.bottom-t.top:1/0}}function ct(t,e){return w(w({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function ht(t,e,i){void 0===i&&(i=!0);var n={};return O.forEach((function(s){var o=t[s],r=e[s];void 0!==o&&void 0!==r?n[s]="left"===s||"top"===s?i?Math.max(o,r):Math.min(o,r):i?Math.min(o,r):Math.max(o,r):void 0!==r?n[s]=r:void 0!==o&&(n[s]=o)})),n}function ut(t,e){return ht(t,e,!0)}function pt(t){var e=t.size,i=t.aspectRatio,n=t.ignoreMinimum,s=t.sizeRestrictions;return Boolean((e.correctRatio||K(e)>=i.minimum&&K(e)<=i.maximum)&&e.height<=s.maxHeight&&e.width<=s.maxWidth&&e.width&&e.height&&(n||e.height>=s.minHeight&&e.width>=s.minWidth))}function dt(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function ft(t){var e=t.width,i=t.height,n=t.sizeRestrictions,s={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},o={width:Math.max(n.minWidth,Math.min(n.maxWidth,e)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function r(t,o){return void 0===o&&(o=!1),t.reduce((function(t,r){return pt({size:r,aspectRatio:s,sizeRestrictions:n,ignoreMinimum:o})&&(!t||dt(r,{width:e,height:i})<dt(t,{width:e,height:i}))?r:t}),null)}var a=[];s&&[s.minimum,s.maximum].forEach((function(t){t&&a.push({width:o.width,height:o.width/t,correctRatio:!0},{width:o.height*t,height:o.height,correctRatio:!0})})),pt({size:o,aspectRatio:s,sizeRestrictions:n})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function gt(t){var e=t.event,i=t.coordinates,n=t.positionRestrictions,s=void 0===n?{}:n,o=q(i,e.directions);return q(o,et(o,s))}function mt(t){var e=t.coordinates,i=t.transform,n=t.imageSize,s=t.sizeRestrictions,o=t.positionRestrictions,r=t.aspectRatio,a=t.visibleArea,l=function(t,e){return gt({coordinates:t,positionRestrictions:o,event:new R({left:e.left-t.left,top:e.top-t.top})})},c=w({},e);return(Array.isArray(i)?i:[i]).forEach((function(t){var e;y((e="function"==typeof t?t({coordinates:c,imageSize:n,visibleArea:a}):t).width)&&y(e.height)||(c=function(t,e){var i=w(w(w({},t),ft({width:e.width,height:e.height,sizeRestrictions:s,aspectRatio:r})),{left:0,top:0});return l(i,{left:t.left,top:t.top})}(c,w(w({},c),e))),y(e.left)&&y(e.top)||(c=l(c,w(w({},c),e)))})),c}function vt(t){t.event;var e=t.getAreaRestrictions,i=t.boundaries,n=t.coordinates,s=t.visibleArea;t.aspectRatio;var o=t.stencilSize,r=t.sizeRestrictions,a=t.positionRestrictions;t.stencilReference;var l,c,h,d=w({},n),u=w({},s),f=w({},o);l=K(f),c=K(d),void 0===h&&(h=.001),(0===l||0===c?Math.abs(c-l)<h:Math.abs(c/l)<1+h&&Math.abs(c/l)>1-h)||(d=w(w({},d),ft({sizeRestrictions:r,width:d.width,height:d.height,aspectRatio:{minimum:K(f),maximum:K(f)}})));var p=at(u=J(u,d.width*i.width/(u.width*f.width)),e({visibleArea:u,type:"resize"}));return 1!==p&&(u=J(u,p),d=J(d,p)),u=lt(u=q(u,Z(Q(d),Q(u))),e({visibleArea:u,type:"move"})),{coordinates:d=lt(d,ut(U(u),a)),visibleArea:u}}function bt(t){var e=t.event,i=t.getAreaRestrictions,n=t.boundaries,s=t.coordinates,o=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var r=t.positionRestrictions;t.stencilReference;var a=w({},s),l=w({},o);if(s&&o&&"manipulateImage"!==e.type){var c={width:0,height:0};l.width,n.width,K(n)>K(a)?(c.height=.8*n.height,c.width=c.height*K(a)):(c.width=.8*n.width,c.height=c.width*K(a));var h=at(l=J(l,a.width*n.width/(l.width*c.width)),i({visibleArea:l,type:"resize"}));l=J(l,h),1!==h&&(c.height/=h,c.width/=h),l=lt(l=q(l,Z(Q(a),Q(l))),i({visibleArea:l,type:"move"})),a=lt(a,ut(U(l),r))}return{coordinates:a,visibleArea:l}}function wt(t){var e=t.event,i=t.coordinates,n=t.visibleArea,s=t.getAreaRestrictions,o=w({},n),r=w({},i);if("setCoordinates"===e.type){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=J(o,Math.min(r.width/o.width,tt(o,s({visibleArea:o,type:"resize"})))):l>a&&(o=J(o,Math.min(r.height/o.height,tt(o,s({visibleArea:o,type:"resize"}))))),o=lt(o=q(o,G(et(r,U(o)))),s({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function xt(t){var e=t.imageSize,i=t.visibleArea,n=t.aspectRatio,s=t.sizeRestrictions,o=i||e,r=Math.min(n.maximum||1/0,Math.max(n.minimum||0,K(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return ft(w(w({},a),{aspectRatio:n,sizeRestrictions:s}))}function yt(t){var e,i,n=t.imageSize,s=t.visibleArea,o=t.boundaries,r=t.aspectRatio,a=t.sizeRestrictions,l=t.stencilSize,c=s||n;return K(c)>K(o)?i=(e=l.height*c.height/o.height)*K(l):e=(i=l.width*c.width/o.width)/K(l),ft({width:i,height:e,aspectRatio:r,sizeRestrictions:a})}function Mt(t,e){return ht(t,U(e))}function zt(t){var e=t.event,i=t.coordinates,n=t.visibleArea,s=t.sizeRestrictions,o=t.getAreaRestrictions,r=t.positionRestrictions,a=t.adjustStencil,l=e.scale,c=e.move,h=w({},n),d=w({},i),u=1,f=1,p=l.factor&&Math.abs(l.factor-1)>.001;h=q(h,{left:c.left||0,top:c.top||0});var g={stencil:{minimum:Math.max(s.minWidth?s.minWidth/d.width:0,s.minHeight?s.minHeight/d.height:0),maximum:Math.min(s.maxWidth?s.maxWidth/d.width:1/0,s.maxHeight?s.maxHeight/d.height:1/0,tt(d,r))},area:{maximum:tt(h,o({visibleArea:h,type:"resize"}))}};l.factor&&p&&(l.factor<1?(f=Math.max(l.factor,g.stencil.minimum))>1&&(f=1):l.factor>1&&(f=Math.min(l.factor,Math.min(g.area.maximum,g.stencil.maximum)))<1&&(f=1)),f&&(h=J(h,f,l.center));var m=i.left-n.left,b=n.width+n.left-(i.width+i.left),v=i.top-n.top,x=n.height+n.top-(i.height+i.top);return h=lt(h=q(h,et(h,{left:void 0!==r.left?r.left-m*f:void 0,top:void 0!==r.top?r.top-v*f:void 0,bottom:void 0!==r.bottom?r.bottom+x*f:void 0,right:void 0!==r.right?r.right+b*f:void 0})),o({visibleArea:h,type:"move"})),d.width=d.width*f,d.height=d.height*f,d.left=h.left+m*f,d.top=h.top+v*f,d=lt(d,ut(U(h),r)),l.factor&&p&&a&&(l.factor>1?u=Math.min(g.area.maximum,l.factor)/f:l.factor<1&&(u=Math.max(d.height/h.height,d.width/h.width,l.factor/f)),1!==u&&(h=q(h=lt(h=J(h,u,l.factor>1?l.center:Q(d)),o({visibleArea:h,type:"move"})),G(et(d,U(h)))))),{coordinates:d,visibleArea:h}}function Ct(t){var e=t.aspectRatio,i=t.getAreaRestrictions,n=t.coordinates,s=t.visibleArea,o=t.sizeRestrictions,r=t.positionRestrictions,a=t.imageSize,l=t.previousImageSize,c=t.angle,h=w({},n),d=w({},s),u=st(Q(w({left:0,top:0},l)),c);return(h=w(w({},ft({sizeRestrictions:o,aspectRatio:e,width:h.width,height:h.height})),st(Q(h),c))).left-=u.left-a.width/2+h.width/2,h.top-=u.top-a.height/2+h.height/2,d=J(d,at(d,i({visibleArea:d,type:"resize"}))),{coordinates:h=lt(h,r),visibleArea:d=lt(d=q(d,Z(Q(h),Q(n))),i({visibleArea:d,type:"move"}))}}function St(t){var e=t.flip,i=t.previousFlip,n=t.rotate;t.aspectRatio;var s=t.getAreaRestrictions,o=t.coordinates,r=t.visibleArea,a=t.imageSize,l=w({},o),c=w({},r),h=i.horizontal!==e.horizontal,d=i.vertical!==e.vertical;if(h||d){var u=st({left:a.width/2,top:a.height/2},-n),f=st(Q(l),-n),p=st({left:h?u.left-(f.left-u.left):f.left,top:d?u.top-(f.top-u.top):f.top},n);l=q(l,Z(p,Q(l))),f=st(Q(c),-n),c=lt(c=q(c,Z(p=st({left:h?u.left-(f.left-u.left):f.left,top:d?u.top-(f.top-u.top):f.top},n),Q(c))),s({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}function _t(t){var e=t.directions,i=t.coordinates,n=t.positionRestrictions,s=void 0===n?{}:n,o=t.sizeRestrictions,r=t.preserveRatio,a=t.compensate,l=w({},e),c=X(i,l).width,h=X(i,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(i.width-o.minWidth)/(l.left/l.right),l.right=-(i.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(i.width-o.minWidth):l.right<0&&(l.right=-(i.width-o.minWidth))),h<0&&(l.top<0&&l.bottom<0?(l.top=-(i.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(i.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(i.height-o.minHeight):l.bottom<0&&(l.bottom=-(i.height-o.minHeight)));var d=V(X(i,l),s);a&&(d.left&&d.left>0&&0===d.right?(l.right+=d.left,l.left-=d.left):d.right&&d.right>0&&0===d.left&&(l.left+=d.right,l.right-=d.right),d.top&&d.top>0&&0===d.bottom?(l.bottom+=d.top,l.top-=d.top):d.bottom&&d.bottom>0&&0===d.top&&(l.top+=d.bottom,l.bottom-=d.bottom),d=V(X(i,l),s));var u={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(O.forEach((function(t){var e=d[t];e&&l[t]&&(u[t]=Math.max(0,1-e/l[t]))})),r){var f=Math.min.apply(null,O.map((function(t){return u[t]})));f!==1/0&&O.forEach((function(t){l[t]*=f}))}else O.forEach((function(t){u[t]!==1/0&&(l[t]*=u[t])}));if(c=X(i,l).width,h=X(i,l).height,l.right+l.left&&(c>o.maxWidth?u.width=(o.maxWidth-i.width)/(l.right+l.left):c<o.minWidth&&(u.width=(o.minWidth-i.width)/(l.right+l.left))),l.bottom+l.top&&(h>o.maxHeight?u.height=(o.maxHeight-i.height)/(l.bottom+l.top):h<o.minHeight&&(u.height=(o.minHeight-i.height)/(l.bottom+l.top))),r){var p=Math.min(u.width,u.height);p!==1/0&&O.forEach((function(t){l[t]*=p}))}else u.width!==1/0&&N.forEach((function(t){l[t]*=u.width})),u.height!==1/0&&$.forEach((function(t){l[t]*=u.height}));return l}function Lt(t,e,i){return 0==e&&0==i?t/2:0==e?0:0==i?t:t*Math.abs(e/(e+i))}var jt=m("vue-simple-handler"),At=m("vue-simple-handler-wrapper"),Rt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("HandlerWrapper",{class:t.classes.wrapper,attrs:{"vertical-position":t.verticalPosition,"horizontal-position":t.horizontalPosition,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.default})])},staticRenderFns:[]},void 0,{name:"SimpleHandler",components:{HandlerWrapper:F},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(l(t={},this.horizontalPosition,Boolean(this.horizontalPosition)),l(t,this.verticalPosition,Boolean(this.verticalPosition)),l(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),l(t,"hover",this.hover),t);return{default:f(jt(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:f(At(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),It=m("vue-simple-line"),Et=m("vue-simple-line-wrapper"),kt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("LineWrapper",{class:t.classes.wrapper,attrs:{position:t.position,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.root})])},staticRenderFns:[]},void 0,{name:"SimpleLine",components:{LineWrapper:T},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:f(It(l({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:f(Et(l({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Pt=m("vue-bounding-box"),Ft=["east","west",null],Dt=["south","north",null],Tt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"box",class:t.classes.root,style:t.style},[t._t("default"),t._v(" "),i("div",t._l(t.lineNodes,(function(e){return i(e.component,{key:e.name,tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,position:e.name,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})})),1),t._v(" "),t._l(t.handlerNodes,(function(e){return i("div",{key:e.name,class:e.wrapperClass,style:e.wrapperStyle},[i(e.component,{tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,"horizontal-position":e.horizontalDirection,"vertical-position":e.verticalDirection,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Rt}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return kt}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return Ft.forEach((function(e){Dt.forEach((function(i){if(e!==i){var n=p(e,i),s=n.name,o=n.classname;t.push({name:s,classname:o,verticalDirection:i,horizontalDirection:e})}}))})),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Pt(),handlers:t,handlersWrappers:e,lines:i,linesWrappers:n}},lineNodes:function(){var t=this,e=[];return this.points.forEach((function(i){i.horizontalDirection&&i.verticalDirection||!t.lines[i.name]||e.push({name:i.name,component:t.linesComponent,class:f(t.classes.lines.default,t.classes.lines[i.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:f(t.classes.linesWrappers.default,t.classes.linesWrappers[i.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!t.resizable})})),e},handlerNodes:function(){var t=this,e=[],i=this.width,s=this.height;return this.points.forEach((function(n){if(t.handlers[n.name]){var o={name:n.name,component:t.handlersComponent,class:f(t.classes.handlers.default,t.classes.handlers[n.name]),wrapperClass:f(t.classes.handlersWrappers.default,t.classes.handlersWrappers[n.name]),hoverClass:t.classes.handlers.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!t.resizable};if(i&&s){var a=n.horizontalDirection,r=n.verticalDirection,c="east"===a?i:"west"===a?0:i/2,h="south"===r?s:"north"===r?0:s/2;o.wrapperClass=Pt("handler"),o.wrapperStyle={transform:"translate(".concat(c,"px, ").concat(h,"px)")},t.transitions&&t.transitions.enabled&&(o.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else o.wrapperClass=Pt("handler",l({},n.classname,!0));e.push(o)}})),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,i){var n,s=t.shift(),o=s.left,r=s.top,a={left:0,right:0,top:0,bottom:0};"west"===e?a.left-=o:"east"===e&&(a.right+=o),"north"===i?a.top-=r:"south"===i&&(a.bottom+=r),!i&&e?n="width":i&&!e&&(n="height"),this.resizable&&this.$emit("resize",new A(a,{allowedDirections:{left:"west"===e||!e,right:"east"===e||!e,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:n}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ot=m("vue-draggable-area"),Nt=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Ot()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&1===t.touches.length;e&&(this.touches=c(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):L({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),i=e.left,n=e.top;this.anchor={x:t.clientX-i,y:t.clientY-n}},processMove:function(t,e){var i=c(e);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),s=n.left,o=n.top;1===this.touches.length&&1===i.length&&this.$emit("move",new R({left:i[0].clientX-(s+this.anchor.x),top:i[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function $t(t){var e,i;return{rotate:t.rotate||0,flip:{horizontal:(null===(e=null==t?void 0:t.flip)||void 0===e?void 0:e.horizontal)||!1,vertical:(null===(i=null==t?void 0:t.flip)||void 0===i?void 0:i.vertical)||!1}}}function Ht(t){var e=t.rotate,i=t.flip,n=t.scaleX,s=t.scaleY,o="";return o+=" rotate("+e+"deg) ",(o+=" scaleX("+n*(i.horizontal?-1:1)+") ")+" scaleY("+s*(i.vertical?-1:1)+") "}var Wt=m("vue-preview-result");E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image.src}})])])},staticRenderFns:[]},void 0,{name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:Wt(),wrapper:Wt("wrapper"),imageWrapper:Wt("image-wrapper"),image:f(Wt("image"),this.imageClass)}},wrapperStyle:function(){var t={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){var t=this.image.transforms,e=ot({width:this.image.width,height:this.image.height},t.rotate),i={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},n=(this.image.width-e.width)*t.scaleX/2,o=(this.image.height-e.height)*t.scaleY/2,r=(1-t.scaleX)*this.image.width/2,l=(1-t.scaleY)*this.image.height/2;return i.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-t.translateX-n-r,"px,").concat(-this.stencilCoordinates.top-t.translateY-o-l,"px) ")+Ht(t),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Bt(t,e){var i=e.getBoundingClientRect(),n=i.left,s=i.top,o={left:0,top:0},r=0;return t.forEach((function(e){o.left+=(e.clientX-n)/t.length,o.top+=(e.clientY-s)/t.length})),t.forEach((function(t){r+=L({x:o.left,y:o.top},{x:t.clientX-n,y:t.clientY-s})})),{centerMass:o,spread:r,count:t.length}}var Yt=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,wheel:t.onWheel}},[t._t("default")],2)},staticRenderFns:[]},void 0,{props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=v(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(1===this.touches.length&&1===e.length)this.$emit("move",new j({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=Bt(e,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new j({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?!1!==this.eventsFilter(t,this.transforming):(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,i=e.getBoundingClientRect(),n=i.left,s=i.top,o=i.bottom,a=i.right;this.touches=c(t.touches).filter((function(t){return t.clientX>n&&t.clientX<a&&t.clientY>s&&t.clientY<o})),this.oldGeometricProperties=Bt(this.touches,e)}},onTouchEnd:function(t){0===t.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var i=c(t.touches).filter((function(t){return!t.identifier||e.touches.find((function(e){return e.identifier===t.identifier}))}));this.processEvent(t)&&(this.processMove(t,i),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&1===t.buttons&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),i=e.left,n=e.top,s=1+this.wheelResize.ratio*(0==(a=+(t.deltaY||t.detail||t.wheelDelta))||_(a)?a:a>0?1:-1),o={left:t.clientX-i,top:t.clientY-n};this.$emit("resize",new j({},{factor:s,center:o})),this.touches.length||this.debouncedProcessEnd()}var a}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ut=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("transformable-image",{attrs:{"touch-move":t.touchMove,"touch-resize":t.touchResize,"mouse-move":t.mouseMove,"wheel-resize":t.wheelResize},on:{move:function(e){return t.$emit("move",e)},resize:function(e){return t.$emit("resize",e)}}},[t._t("default")],2)},staticRenderFns:[]},void 0,{components:{TransformableImage:Yt},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Zt=m("vue-preview"),Qt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"root",class:t.classes.root,style:t.style},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.image&&t.image.src,expression:"image && image.src"}],ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image&&t.image.src}})])])},staticRenderFns:[]},void 0,{props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Zt({fill:this.fill}),wrapper:Zt("wrapper"),imageWrapper:Zt("image-wrapper"),image:f(Zt("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=i(i({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,s=this.imageSize.height,o=ot({width:n,height:s},e.rotate),r={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},a={rotate:{left:(n-o.width)*e.scaleX/2,top:(s-o.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*s/2}};return r.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/t-a.rotate.left-a.scale.left,"px,").concat(-this.coordinates.top/t-a.rotate.top-a.scale.top,"px) ")+Ht(e),this.transitions&&this.transitions.enabled&&(r.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),r}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){t.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Vt=E({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("preview",t._b({attrs:{fill:!0}},"preview",t.$attrs,!1))},staticRenderFns:[]},void 0,{components:{Preview:Qt},inheritAttrs:!1},void 0,!1,void 0,!1,void 0,void 0,void 0),Xt=m("vue-rectangle-stencil"),qt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"RectangleStencil",components:{StencilPreview:Vt,BoundingBox:Tt,DraggableArea:Nt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Rt}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return kt}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:f(Xt({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:f(Xt("preview"),this.previewClass),boundingBox:f(Xt("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,n=t.left,s=t.top,o={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(n,"px, ").concat(s,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Gt=m("vue-circle-stencil"),Jt=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{components:{StencilPreview:Vt,BoundingBox:Tt,DraggableArea:Nt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return Rt}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return kt}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:f(Gt({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:f(Gt("preview"),this.previewClass),boundingBox:f(Gt("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,n=t.left,s=t.top,o={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(n,"px, ").concat(s,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Kt=["transitions"],te=m("vue-advanced-cropper"),ee={name:"Cropper",components:{BackgroundWrapper:Ut},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return qt}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Ut}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return-1!==W.indexOf(t)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object],default:function(t){var e=t.imageSize,i=t.visibleArea,n=t.coordinates,s=i||e;return{left:(i?i.left:0)+s.width/2-n.width/2,top:(i?i.top:0)+s.height/2-n.height/2}}},defaultVisibleArea:{type:[Function,Object],default:function(t){var e=t.getAreaRestrictions,i=t.coordinates,n=t.imageSize,s=K(t.boundaries);if(i){var o={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},r=nt({width:K(o)>s?o.width:o.height*s,height:K(o)>s?o.width/s:o.height},rt(e())),a={left:i.left+i.width/2-r.width/2,top:i.top+i.height/2-r.height/2,width:r.width,height:r.height},l=V(i,U(w({left:0,top:0},n))),c={};return!l.left&&!l.right&&a.width<=n.width&&(c.left=0,c.right=n.width),!l.top&&!l.bottom&&a.height<=n.height&&(c.top=0,c.bottom=n.height),lt(a,c)}var h=K(n);return r={height:h>s?n.height:n.width/s,width:h>s?n.height*s:n.width},{left:n.width/2-r.width/2,top:n.height/2-r.height/2,width:r.width,height:r.height}}},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!("string"==typeof t&&"fill"!==t&&"fit"!==t)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,i=t.coordinates,n=t.aspectRatio,s=t.positionRestrictions,o=t.sizeRestrictions,r=w(w({},i),{right:i.left+i.width,bottom:i.top+i.height}),a=e.params||{},l=w({},e.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),O.forEach((function(t){c[t]||(l[t]=0)}));var h=X(r,l=_t({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:s})).width,d=X(r,l).height,u=a.preserveRatio?K(r):it(h/d,n);if(u){var f=a.respectDirection;if(f||(f=r.width>=r.height||1===u?"width":"height"),"width"===f){var p=h/u-r.height;if(c.top&&c.bottom){var g=l.top,m=l.bottom;l.bottom=Lt(p,m,g),l.top=Lt(p,g,m)}else c.bottom?l.bottom=p:c.top?l.top=p:c.right?l.right=0:c.left&&(l.left=0)}else if("height"===f){var b=r.width-d*u;if(c.left&&c.right){var v=l.left,x=l.right;l.left=-Lt(b,v,x),l.right=-Lt(b,x,v)}else c.left?l.left=-b:c.right?l.right=-b:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=_t({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:s,preserveRatio:!0,compensate:a.compensate})}return h=X(r,l).width,d=X(r,l).height,(u=a.preserveRatio?K(r):it(h/d,n))&&Math.abs(u-h/d)>.001&&O.forEach((function(t){c[t]||(l[t]=0)})),gt({event:new R({left:-l.left,top:-l.top}),coordinates:{width:i.width+l.right+l.left,height:i.height+l.top+l.bottom,left:i.left,top:i.top},positionRestrictions:s})}},moveAlgorithm:{type:Function,default:gt},initStretcher:{type:Function,default:function(t){var e=t.stretcher,i=t.imageSize,n=K(i);e.style.width=i.width+"px",e.style.height=e.clientWidth/n+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,i=t.coordinates,n=t.aspectRatio,s=t.sizeRestrictions,o=t.positionRestrictions,r=w(w({},i),ft({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,s.minHeight),minWidth:Math.min(e.width,s.minWidth)}}));return lt(r=q(r,Z(Q(i),Q(r))),ut(U(e),o))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,n=t.getAreaRestrictions,s=t.coordinates,o=w({},e);o.height=o.width/K(i),o.top+=(e.height-o.height)/2,(s.height-o.height>0||s.width-o.width>0)&&(o=J(o,Math.max(s.height/o.height,s.width/o.width)));var r=G(et(s,U(o=J(o,at(o,n({visibleArea:o,type:"resize"}))))));return o.width<s.width&&(r.left=0),o.height<s.height&&(r.top=0),lt(o=q(o,r),n({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,n=t.imageSize,s=t.imageRestriction,o=t.type,r={};return"fill-area"===s?r={left:0,top:0,right:n.width,bottom:n.height}:"fit-area"===s&&(K(i)>K(n)?(r={top:0,bottom:n.height},e&&"move"===o&&(e.width>n.width?(r.left=-(e.width-n.width)/2,r.right=n.width-r.left):(r.left=0,r.right=n.width))):(r={left:0,right:n.width},e&&"move"===o&&(e.height>n.height?(r.top=-(e.height-n.height)/2,r.bottom=n.height-r.top):(r.top=0,r.bottom=n.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,i={};return"none"!==t.imageRestriction&&(i={left:0,top:0,right:e.width,bottom:e.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:!1,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:i({},B)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var t=z(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:z(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:y(this.minWidth)?0:C(this.minWidth),minHeight:y(this.minHeight)?0:C(this.minHeight),maxWidth:y(this.maxWidth)?1/0:C(this.maxWidth),maxHeight:y(this.maxHeight)?1/0:C(this.maxHeight)});if(t=function(t){var e=t.areaRestrictions,i=t.sizeRestrictions,n=t.boundaries,s=t.positionRestrictions,o=w(w({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0});void 0!==s.left&&void 0!==s.right&&(o.maxWidth=Math.min(o.maxWidth,s.right-s.left)),void 0!==s.bottom&&void 0!==s.top&&(o.maxHeight=Math.min(o.maxHeight,s.bottom-s.top));var r=rt(e),a=nt(n,r);return r.width<1/0&&(!o.maxWidth||o.maxWidth>a.width)&&(o.maxWidth=Math.min(o.maxWidth,a.width)),r.height<1/0&&(!o.maxHeight||o.maxHeight>a.height)&&(o.maxHeight=Math.min(o.maxHeight,a.height)),o.minWidth>o.maxWidth&&(o.minWidth=o.maxWidth,o.widthFrozen=!0),o.minHeight>o.maxHeight&&(o.minHeight=o.maxHeight,o.heightFrozen=!0),o}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),i=rt(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,i.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,i.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:te(),image:f(te("image"),this.imageClass),stencil:te("stencil"),boundaries:f(te("boundaries"),this.boundariesClass),stretcher:f(te("stretcher")),background:f(te("background"),this.backgroundClass),foreground:f(te("foreground"),this.foregroundClass),imageWrapper:f(te("image-wrapper")),cropperWrapper:f(te("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,i=t.height,n=t.left,s=t.top;return{width:e/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(s-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e=(t.width-this.imageSize.width)/(2*this.coefficient),n=(t.height-this.imageSize.height)/(2*this.coefficient),o=(1-1/this.coefficient)*t.width/2,r=(1-1/this.coefficient)*t.height/2,s=i(i({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),l={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e-o-this.imageTransforms.translateX,"px, ").concat(-n-r-this.imageTransforms.translateY,"px)")+Ht(s)};return this.transitionsOptions.enabled&&(l.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),l}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick((function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(i){return t[i]!==e[i]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=v(this.update,this.debounce),this.debouncedDisableTransitions=v(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(i({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:i({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?i({},this.visibleArea):null,imageTransforms:e,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?i({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,s=void 0===n||n;this.onManipulateImage(new j({},{factor:1/t,center:e}),{normalize:!1,transitions:s})},move:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,s=void 0===n||n;this.onManipulateImage(new j({left:t||0,top:e||0}),{normalize:!1,transitions:s})},setCoordinates:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.autoZoom,s=void 0===n||n,o=i.transitions,r=void 0===o||o;this.$nextTick((function(){e.imageLoaded?(e.transitionsActive||(r&&e.enableTransitions(),e.coordinates=e.applyTransform(t),s&&e.runAutoZoom("setCoordinates"),r&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t}))},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then((function(){t.onChange()})):this.resetVisibleArea().then((function(){t.onChange()}))},reset:function(){var t=this;return this.resetVisibleArea().then((function(){t.onChange(!1)}))},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){t(),e.awaiting=!1})))},prepareResult:function(t){return this.roundResult?function(t){var e=t.coordinates,i=t.sizeRestrictions,n=t.positionRestrictions,s={width:Math.round(e.width),height:Math.round(e.height),left:Math.round(e.left),top:Math.round(e.top)};return s.width>i.maxWidth?s.width=Math.floor(e.width):s.width<i.minWidth&&(s.width=Math.ceil(e.width)),s.height>i.maxHeight?s.height=Math.floor(e.height):s.height<i.minHeight&&(s.height=Math.ceil(e.height)),lt(s,n)}(i(i({},this.getPublicProperties()),{},{positionRestrictions:Mt(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,n,s){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?vt:this.autoZoom?bt:wt);var r=o({event:{type:t,params:s},visibleArea:e,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return i(i({},r),{},{changed:!Y(r.visibleArea,e)||!Y(r.coordinates,n)})},runAutoZoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transitions,n=void 0!==i&&i,o=s(e,Kt),r=this.processAutoZoom(t,this.visibleArea,this.coordinates,o),a=r.visibleArea,l=r.coordinates,c=r.changed;n&&c&&this.enableTransitions(),this.visibleArea=a,this.coordinates=l,n&&c&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(t){var e=t.event,i=t.visibleArea,n=t.coefficient;if("manipulateImage"===e.type)return w(w({},e),{move:{left:e.move&&e.move.left?n*e.move.left:0,top:e.move&&e.move.top?n*e.move.top:0},scale:{factor:e.scale&&e.scale.factor?e.scale.factor:1,center:e.scale&&e.scale.center?{left:e.scale.center.left*n+i.left,top:e.scale.center.top*n+i.top}:null}});if("resize"===e.type){var s=w(w({},e),{directions:w({},e.directions)});return O.forEach((function(t){s.directions[t]*=n})),s}if("move"===e.type){var o=w(w({},e),{directions:w({},e.directions)});return H.forEach((function(t){o.directions[t]*=n})),o}return e}(i(i({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,n=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(t,e,i){var n=i.rotate,s=i.flip,o={width:e.naturalWidth,height:e.naturalHeight},r=ot(o,n),a=t.getContext("2d");t.height=r.height,t.width=r.width,a.save();var l=st(Q(w({left:0,top:0},o)),n);return a.translate(-(l.left-r.width/2),-(l.top-r.height/2)),a.rotate(n*Math.PI/180),a.translate(s.horizontal?o.width:0,s.vertical?o.height:0),a.scale(s.horizontal?-1:1,s.vertical?-1:1),a.drawImage(e,0,0,o.width,o.height),a.restore(),t}(this.$refs.sourceCanvas,e,this.imageTransforms):e,s=i({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(t){return t.find((function(t){return e=t,!Number.isNaN(parseFloat(e))&&isFinite(e);var e}))},r=ft({sizeRestrictions:{minWidth:o([s.width,s.minWidth])||0,minHeight:o([s.height,s.minHeight])||0,maxWidth:o([s.width,s.maxWidth])||1/0,maxHeight:o([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&r.width*r.height>s.maxArea){var a=Math.sqrt(s.maxArea/(r.width*r.height));r={width:Math.round(a*r.width),height:Math.round(a*r.height)}}return function(t,e,i,n,s){t.width=n?n.width:i.width,t.height=n?n.height:i.height;var o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),s&&(s.imageSmoothingEnabled&&(o.imageSmoothingEnabled=s.imageSmoothingEnabled),s.imageSmoothingQuality&&(o.imageSmoothingQuality=s.imageSmoothingQuality),s.fillColor&&(o.fillStyle=s.fillColor,o.fillRect(0,0,t.width,t.height),o.save()));var r=i.left<0?-i.left:0,a=i.top<0?-i.top:0;o.drawImage(e,i.left+r,i.top+a,i.width,i.height,r,a,t.width,t.height)}(t,n,this.coordinates,r,s),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.visibleArea&&e?ct(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&e?Mt(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return mt({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?yt:xt);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=[b(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,function(e){var n=e.coordinates;return i({},b(t.defaultPosition)?t.defaultPosition({coordinates:n,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,c(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout((function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then((function(){var e={cropper:i,imageSize:t.imageSize};if(b(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(e):"fit"===t.defaultBoundaries?t.boundaries=function(t){var e=t.cropper,i=t.imageSize,n=e.clientHeight,s=e.clientWidth,o=n,r=i.width*n/i.height;return r>s&&(r=s,o=i.height*s/i.width),{width:r,height:o}}(e):t.boundaries=function(t){var e=t.cropper;return{width:e.clientWidth,height:e.clientHeight}}(e),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=i(i({},this.defaultImageTransforms),{},{flip:i({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){var e,n,s,o,r;"visible-area"!==t.priority&&(t.visibleArea=null,t.resetCoordinates()),t.visibleArea=b(t.defaultVisibleArea)?t.defaultVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:"visible-area"!==t.priority?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(n=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions}).boundaries,s=e.getAreaRestrictions,o=w({},e.visibleArea),r=K(n),o.width/o.height!==r&&(o.height=o.width/r),lt(o,s({visibleArea:o,type:"move"}))),"visible-area"===t.priority?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")})).catch((function(){t.visibleArea=null}))},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then((function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")})).catch((function(){t.visibleArea=null}))},onChange:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$listeners&&this.$listeners.change&&(t&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(t){if(x(t))return!1;var e=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[],n={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},s=function(t){return t.port||("http"===(t.protocol||e.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==e.protocol&&n.host&&n.host==e.host&&n.host&&s(n)==s(e)))}(this.src)){var i=y(this.crossOrigin)?this.canvas:this.crossOrigin;!0===i&&(i="anonymous"),this.imageAttributes.crossOrigin=i}if(this.checkOrientation){var n=(t=this.src,new Promise((function(e){(function(t){return new Promise((function(e,i){try{if(t)if(/^data:/i.test(t))e(function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),i=e.length,n=new ArrayBuffer(i),s=new Uint8Array(n),o=0;o<i;o++)s[o]=e.charCodeAt(o);return n}(t));else if(/^blob:/i.test(t)){var n=new FileReader;n.onload=function(t){e(t.target.result)},o=t,r=function(t){n.readAsArrayBuffer(t)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){200!=this.status&&0!==this.status||r(this.response)},a.send()}else{var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status||0===s.status?e(s.response):i("Warning: could not load an image to parse its orientation"),s=null)},s.onprogress=function(){"image/jpeg"!==s.getResponseHeader("content-type")&&s.abort()},s.withCredentials=!1,s.open("GET",t,!0),s.responseType="arraybuffer",s.send(null)}else i("Error: the image is empty")}catch(t){i(t)}var o,r,a}))})(t).then((function(i){var n=function(t){try{var e,i=new DataView(t),n=void 0,s=void 0,o=void 0,r=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,l=2;l+1<a;){if(255===i.getUint8(l)&&225===i.getUint8(l+1)){o=l;break}l++}if(o&&(n=o+10,"Exif"===function(t,e,i){var n,s="";for(n=e,i+=e;n<i;n++)s+=String.fromCharCode(t.getUint8(n));return s}(i,o+4,4))){var c=i.getUint16(n);if(((s=18761===c)||19789===c)&&42===i.getUint16(n+2,s)){var h=i.getUint32(n+4,s);h>=8&&(r=n+h)}}if(r)for(var d=i.getUint16(r,s),u=0;u<d;u++)if(l=r+12*u+2,274===i.getUint16(l,s)){l+=8,e=i.getUint16(l,s),i.setUint16(l,1,s);break}return e}catch(t){return null}}(i);e(i?{source:t,arrayBuffer:i,orientation:n}:{source:t,arrayBuffer:null,orientation:null})})).catch((function(i){console.warn(i),e({source:t,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){n.then(e.onParseImage)}),this.transitionTime)}else setTimeout((function(){e.onParseImage({source:e.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){t.$emit("ready"),t.onChange(!1)})))},onParseImage:function(t){var e=this,n=t.source,s=t.arrayBuffer,o=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&o&&o>1?g(n)||!x(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(t){for(var e=[],i=new Uint8Array(t);i.length>0;){var n=i.subarray(0,8192);e.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(e.join(""))}(s):this.imageAttributes.src=n,b(this.defaultTransforms)?this.appliedImageTransforms=$t(this.defaultTransforms()):M(this.defaultTransforms)?this.appliedImageTransforms=$t(this.defaultTransforms):this.appliedImageTransforms=function(t){var e=$t({});if(t)switch(t){case 2:e.flip.horizontal=!0;break;case 3:e.rotate=-180;break;case 4:e.flip.vertical=!0;break;case 5:e.rotate=90,e.flip.vertical=!0;break;case 6:e.rotate=90;break;case 7:e.rotate=90,e.flip.horizontal=!0;break;case 8:e.rotate=-90}return e}(o),this.defaultImageTransforms=i(i({},this.appliedImageTransforms),{},{flip:i({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var t=e.$refs.image;t&&t.complete&&(function(t){return Boolean(t.naturalWidth)}(t)?e.onSuccessLoadImage():e.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender((function(){e.coordinates=e.moveAlgorithm(i(i({},e.getPublicProperties()),{},{positionRestrictions:Mt(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()}))},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var n=e.sizeRestrictions,s=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(i(i({},e.getPublicProperties()),{},{positionRestrictions:Mt(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,e.visibleArea.width),maxHeight:Math.min(n.maxHeight,e.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1}))},onManipulateImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=e.transitions,s=void 0!==n&&n,o=e.normalize,r=void 0===o||o;s&&this.enableTransitions();var a=zt(i(i({},this.getPublicProperties()),{},{event:r?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=a.visibleArea,c=a.coordinates;this.visibleArea=l,this.coordinates=c,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visibleArea,i=t.type,n=void 0===i?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:n})},getAspectRatio:function(t){var e,i,n=this.stencilProps,s=n.aspectRatio,o=n.minAspectRatio,r=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,i=a.maximum}if(y(e)&&(e=y(s)?o:s),y(i)&&(i=y(s)?r:s),!t&&(y(e)||y(i))){var l=this.getStencilSize(),c=l?K(l):null;y(e)&&(e=S(c)?c:void 0),y(i)&&(i=S(c)?c:void 0)}return{minimum:e,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e=(t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)}).boundaries,n=t.aspectRatio,it(K(s=b(i=t.stencilSize)?i({boundaries:e,aspectRatio:n}):i),n)&&(s=ft({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(s.width>e.width||s.height>e.height)&&(s=ft({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:K(s),maximum:K(s)}})),s;var t,e,i,n,s},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return i({},B)},flip:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.transitions,o=void 0===s||s;if(!this.transitionsActive){o&&this.enableTransitions();var r=i({},this.imageTransforms.flip),a=St({flip:{horizontal:t?!r.horizontal:r.horizontal,vertical:e?!r.vertical:r.vertical},previousFlip:r,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=a.visibleArea,c=a.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=l,this.coordinates=c,this.onChange(),o&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transitions,s=void 0===n||n;if(!this.transitionsActive){s&&this.enableTransitions();var o=i({},this.imageSize);this.appliedImageTransforms.rotate+=t;var r=Ct({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:o,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=r.visibleArea,l=r.coordinates,c=this.processAutoZoom("rotateImage",a,l);a=c.visibleArea,l=c.coordinates,this.visibleArea=a,this.coordinates=l,this.onChange(),s&&this.debouncedDisableTransitions()}}}},ie=E({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cropper",class:t.classes.cropper},[i("div",{ref:"stretcher",class:t.classes.stretcher}),t._v(" "),i("div",{class:t.classes.boundaries,style:t.boundariesStyle},[i(t.backgroundWrapperComponent,{tag:"component",class:t.classes.cropperWrapper,attrs:{"wheel-resize":t.settings.resizeImage.wheel,"touch-resize":t.settings.resizeImage.touch,"touch-move":t.settings.moveImage.touch,"mouse-move":t.settings.moveImage.mouse},on:{move:t.onManipulateImage,resize:t.onManipulateImage}},[i("div",{class:t.classes.background,style:t.boundariesStyle}),t._v(" "),i("div",{class:t.classes.imageWrapper},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{crossorigin:t.imageAttributes.crossOrigin,src:t.imageAttributes.src},on:{mousedown:function(t){t.preventDefault()}}})]),t._v(" "),i("div",{class:t.classes.foreground,style:t.boundariesStyle}),t._v(" "),i(t.stencilComponent,t._b({directives:[{name:"show",rawName:"v-show",value:t.imageLoaded,expression:"imageLoaded"}],ref:"stencil",tag:"component",attrs:{image:t.image,coordinates:t.coordinates,"stencil-coordinates":t.stencilCoordinates,transitions:t.transitionsOptions},on:{resize:t.onResize,"resize-end":t.onResizeEnd,move:t.onMove,"move-end":t.onMoveEnd}},"component",t.stencilProps,!1)),t._v(" "),t.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):t._e(),t._v(" "),t.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):t._e()],1)],1)])},staticRenderFns:[]},void 0,ee,void 0,!1,void 0,!1,void 0,void 0,void 0);o.default.component("cropper",ie),o.default.component("rectangle-stencil",qt),o.default.component("circle-stencil",Jt),o.default.component("simple-handler",Rt),o.default.component("simple-line",kt)},1032:function(t,e,n){"use strict";n(879)},1033:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,'.vue-advanced-cropper{text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;max-height:100%;max-width:100%;direction:ltr}.vue-advanced-cropper__stretcher{pointer-events:none;position:relative;max-width:100%;max-height:100%}.vue-advanced-cropper__image{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;transform-origin:center;max-width:none!important}.vue-advanced-cropper__background,.vue-advanced-cropper__foreground{opacity:1;background:#000;transform:translate(-50%,-50%);position:absolute;top:50%;left:50%}.vue-advanced-cropper__foreground{opacity:.5}.vue-advanced-cropper__boundaries{opacity:1;transform:translate(-50%,-50%);position:absolute;left:50%;top:50%}.vue-advanced-cropper__cropper-wrapper{width:100%;height:100%}.vue-advanced-cropper__image-wrapper{overflow:hidden;position:absolute;width:100%;height:100%}.vue-advanced-cropper__stencil-wrapper{position:absolute}.vue-rectangle-stencil{box-sizing:border-box}.vue-rectangle-stencil,.vue-rectangle-stencil__preview{position:absolute;height:100%;width:100%}.vue-rectangle-stencil--movable{cursor:move}.vue-circle-stencil{position:absolute;height:100%;width:100%;box-sizing:content-box;cursor:move}.vue-circle-stencil__preview{border-radius:50%;position:absolute;width:100%;height:100%}.vue-circle-stencil--movable{cursor:move}.vue-handler-wrapper{position:absolute;transform:translate(-50%,-50%);width:30px;height:30px}.vue-handler-wrapper__draggable{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.vue-handler-wrapper--west-north{cursor:nw-resize}.vue-handler-wrapper--north{cursor:n-resize}.vue-handler-wrapper--east-north{cursor:ne-resize}.vue-handler-wrapper--east{cursor:e-resize}.vue-handler-wrapper--east-south{cursor:se-resize}.vue-handler-wrapper--south{cursor:s-resize}.vue-handler-wrapper--west-south{cursor:sw-resize}.vue-handler-wrapper--west{cursor:w-resize}.vue-handler-wrapper--disabled{cursor:auto}.vue-line-wrapper{background:0 0;position:absolute;display:flex;align-items:center;justify-content:center}.vue-line-wrapper--north,.vue-line-wrapper--south{height:12px;width:100%;left:0;transform:translateY(-50%)}.vue-line-wrapper--north{top:0;cursor:n-resize}.vue-line-wrapper--south{top:100%;cursor:s-resize}.vue-line-wrapper--east,.vue-line-wrapper--west{width:12px;height:100%;transform:translateX(-50%);top:0}.vue-line-wrapper--east{left:100%;cursor:e-resize}.vue-line-wrapper--west{left:0;cursor:w-resize}.vue-line-wrapper--disabled{cursor:auto}.vue-bounding-box{position:relative;height:100%;width:100%}.vue-bounding-box__handler{position:absolute}.vue-bounding-box__handler--west-north{left:0;top:0}.vue-bounding-box__handler--north{left:50%;top:0}.vue-bounding-box__handler--east-north{left:100%;top:0}.vue-bounding-box__handler--east{left:100%;top:50%}.vue-bounding-box__handler--east-south{left:100%;top:100%}.vue-bounding-box__handler--south{left:50%;top:100%}.vue-bounding-box__handler--west-south{left:0;top:100%}.vue-bounding-box__handler--west{left:0;top:50%}.vue-draggable-area{position:relative}.vue-preview-result{overflow:hidden;box-sizing:border-box;position:absolute;height:100%;width:100%}.vue-preview-result__wrapper{position:absolute}.vue-preview-result__image{pointer-events:none;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;transform-origin:center;max-width:none!important}.vue-simple-handler{display:block;background:#fff;height:10px;width:10px}.vue-preview{overflow:hidden;box-sizing:border-box;position:relative}.vue-preview--fill,.vue-preview__wrapper{width:100%;height:100%;position:absolute}.vue-preview__image{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;transform-origin:center;max-width:none!important}.vue-simple-line{background:0 0;transition:border .5s;border:0 solid hsla(0,0%,100%,.3)}.vue-simple-line--north,.vue-simple-line--south{height:0;width:100%}.vue-simple-line--east,.vue-simple-line--west{height:100%;width:0}.vue-simple-line--east{border-right-width:1px}.vue-simple-line--west{border-left-width:1px}.vue-simple-line--south{border-bottom-width:1px}.vue-simple-line--north{border-top-width:1px}.vue-simple-line--hover{opacity:1;border-color:#fff}.custom-block.details{display:block;position:relative;border-radius:2px;margin:1.6em 0;padding:1.6em;background-color:#eee}.custom-block.details h4{margin-top:0}.custom-block.details figure:last-child,.custom-block.details p:last-child{margin-bottom:0;padding-bottom:0}.custom-block.details summary{outline:none;cursor:pointer}.arrow{display:inline-block;width:0;height:0}.arrow.up{border-bottom:6px solid #ccc}.arrow.down,.arrow.up{border-left:4px solid transparent;border-right:4px solid transparent}.arrow.down{border-top:6px solid #ccc}.arrow.right{border-left:6px solid #ccc}.arrow.left,.arrow.right{border-top:4px solid transparent;border-bottom:4px solid transparent}.arrow.left{border-right:6px solid #ccc}.example-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:1px solid #eee;margin-top:20px;margin-bottom:20px}.example-wrapper--no-border{border:none}.example-wrapper__icon{opacity:.5;position:absolute;top:0;right:-32px;height:16px;display:flex;cursor:pointer;transition:.5s}.example-wrapper__icon:hover{opacity:1}@media screen and (max-width:1090px){.example-wrapper__icon{right:-24px}}.blurred-background-cropper .cropper-wrapper{overflow:hidden;position:relative;height:400px;background:#000}.blurred-background-cropper .cropper-background{background:none}.blurred-background-cropper .image-background{position:absolute;width:calc(100% + 20px);height:calc(100% + 20px);left:-10px;top:-10px;background-size:cover;background-position:50%;filter:blur(5px)}.circle-cropper{width:100%;background:#222}.circle-cropper__preview{border:1px solid hsla(0,0%,100%,.15)}.custom-restrictions-example .panel{border:1px solid #ddd;color:#000;display:flex;padding:20px;background:#fafafa}.custom-restrictions-example .panel__left{width:100%;padding-right:30px}.custom-restrictions-example .panel__right{display:flex;align-items:stretch;flex-direction:column}.custom-restrictions-example .input{margin-bottom:8px}.custom-restrictions-example .input__control{padding:4px;width:100%;color:#000;font:inherit;font-size:15px;border:1px solid #aaa}.custom-restrictions-example .input__label{display:block;font-size:11px;margin-bottom:3px}.custom-restrictions-example .custom-restrictions-cropper{width:100%;max-height:500px;border:1px solid #eee}.custom-restrictions-example .button{width:120px;margin-top:15px;color:#fff;font-size:16px;padding:17px 20px;text-align:center;background:#1f8255;cursor:pointer;transition:background .5s;font-weight:400;height:100%;display:flex;align-items:center;justify-content:center}.custom-restrictions-example .button:hover{background:#26a069;text-decoration:none!important}.custom-restrictions-example .button input{display:none}.customize-preview-example .preview{border:2px dashed hsla(0,0%,100%,.45)}.default-transforms-example{margin-top:20px;margin-bottom:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.default-transforms-example__cropper{border:1px solid #eee;min-height:300px;max-height:500px;width:100%}.default-transforms-example__cropper-wrapper{position:relative}.default-transforms-example__buttons-wrapper{display:flex;justify-content:center;margin-top:17px}.default-transforms-example .input__control{padding:8px;width:100%;border:none;color:#000;font:inherit;font-size:15px}.default-transforms-example .input__label{display:block;font-size:11px;margin-bottom:5px}.default-transforms-example .button{width:160px;margin-top:15px;display:block;color:#fff;font-size:16px;padding:10px 20px;text-align:center;background:#1f8255;cursor:pointer;transition:background .5s;font-weight:400;border:none}.default-transforms-example .button:hover{background:#26a069;text-decoration:none!important}.default-transforms-example .button input{display:none}.default-transforms-example .panel{color:#fff;display:flex;align-items:flex-end;padding:20px;background:#3fb37f}.default-transforms-example .panel__left{width:100%;padding-right:30px}.default-visible-area-example{height:500px}.events-example .cropper-wrapper{position:relative;background:#282c34;overflow:hidden;min-height:300px;display:flex;align-items:center}.events-example .cropper-wrapper__loading{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.events-example__input-wrapper{padding:10px}.events-example input{display:block;background:#fff;border-radius:6px;border:1px solid #eee;padding:8px 16px;outline:none;width:100%;text-overflow:ellipsis}.results__wrapper{display:flex;position:absolute;right:15px;bottom:15px;border:1px dashed hsla(0,0%,100%,.5)}.results__coordinates{background:rgba(0,0,0,.8);padding:5px;font-size:10px;color:#fff;pointer-events:none}@media (max-width:721px){.results__coordinates{display:none}}.results__coordinates-title{font-weight:700}.results__coordinates-title,.results__coordinates-value{margin-top:2px;margin-bottom:2px}.results__preview{width:107px;height:107px;opacity:.8;pointer-events:none}.results__preview img{width:100%;height:100%}.vertical-buttons{position:absolute;left:10px;top:50%;transform:translateY(-50%)}.square-button{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;height:42px;width:42px;margin-bottom:10px;cursor:pointer;transition:background .5s}.square-button:hover{background:#000}.adjust-stencil-example{height:500px;position:relative}.adjust-stencil-example__adjust{background:rgba(0,0,0,.7);padding:10px 20px;position:absolute;left:20px;top:20px;color:#fff}.getting-result-example,.getting-result-second-example{position:relative}.getting-result-second-example .crop-button{display:flex;justify-content:center;margin-top:10px;position:absolute;left:50%;top:-10px;transform:translateX(-50%);background:rgba(0,0,0,.8);padding:5px 20px;transition:background .5s;color:#fff;font-size:16px;cursor:pointer}.getting-result-second-example .crop-button:hover{background:rgba(63,179,127,.9)}.cropper{height:600px;background:#222}.image-restriction-example .panel{color:#fff;display:flex;align-items:flex-end;padding:20px;background:#3fb37f}.image-restriction-example .panel__left{width:100%;padding-right:30px}.image-restriction-example .input__control{padding:8px;width:100%;border:none;color:#000;font:inherit;font-size:15px}.image-restriction-example .input__label{display:block;font-size:11px;margin-bottom:5px}.image-restriction-example .image-restriction-cropper{width:100%;max-height:500px;border:1px solid #eee}.image-restriction-example .button{width:120px;margin-top:15px;display:block;color:#fff;font-size:16px;padding:10px 20px;text-align:center;background:#1f8255;cursor:pointer;transition:background .5s;font-weight:400}.image-restriction-example .button:hover{background:#26a069;text-decoration:none!important}.image-restriction-example .button input{display:none}.image-restriction-example .cropper{height:600px}.manipulate-image-example .coordinates-cropper{max-height:500px;background:#000}.manipulate-image-example .size-info{color:#fff;position:absolute;font-size:10px;right:10px;bottom:10px;opacity:.5}.news-adjust-stencil{min-height:200px}.news-adjust-stencil__adjust{background:rgba(0,0,0,.7);padding:10px 20px;position:absolute;left:20px;top:20px;color:#fff}.news-borders-image-restriction{max-height:600px;background:#000}.news-borders-image-restriction__cropper{height:600px}.news-borders-image-restriction__settings{background:rgba(0,0,0,.7);padding:10px 20px;position:absolute;left:20px;top:20px;color:#fff;border:1px solid hsla(0,0%,100%,.2)}.preview-result-example{display:flex}.preview-result-example__cropper{width:300px}.preview-result-example__previews{margin-left:32px}.preview-result-example__preview{border-radius:50%;overflow:hidden;margin-top:24px;margin-bottom:24px;width:100px;height:100px}.preview-result-example__preview--small{width:60px;height:60px}.preview-result-example__preview-image{width:100%}.preview-result-example__button{position:absolute;left:16px;bottom:0}.refresh-example .container{width:100%;height:400px;position:relative}.refresh-example .cropper{width:100%;height:100%}.refresh-example .box{position:absolute}.refresh-example .line{border-color:rgba(63,179,127,.5)}.refresh-example .handler{background:#3fb37f}.resize-result-example .panel{border:1px solid #ddd;color:#000;display:flex;padding:20px;background:#fafafa}.resize-result-example .panel__left{width:100%;padding-right:30px}.resize-result-example .panel__right{display:flex;align-items:stretch;flex-direction:column}.resize-result-example .input{margin-bottom:8px}.resize-result-example .input__control{padding:4px;width:100%;color:#000;font:inherit;font-size:15px;border:1px solid #aaa}.resize-result-example .input__label{display:block;font-size:11px;margin-bottom:3px}.resize-result-example .resize-result-cropper{width:100%;max-height:500px;border:1px solid #eee}.resize-result-example .button{width:120px;margin-top:15px;color:#fff;font-size:16px;padding:17px 20px;text-align:center;background:#1f8255;cursor:pointer;transition:background .5s;font-weight:400;height:100%;display:flex;align-items:center;justify-content:center}.resize-result-example .button:hover{background:#26a069;text-decoration:none!important}.resize-result-example .button input{display:none}.rotate-image-example .cropper{max-height:500px}.twitter-cropper{height:521px}.twitter-cropper__background,.twitter-cropper__foreground{background-color:#edf2f4}.twitter-cropper__stencil{border:5px solid #1da1f2}.types-classic-cropper--small-height{max-height:400px}.types-hybrid-cropper{max-height:500px;background:#000}.types-hybrid-cropper--small-height{max-height:350px}.types-classic-cropper{max-height:500px;background:#000}.types-classic-cropper--small-height{max-height:300px}.upload-example{margin-top:20px;margin-bottom:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.upload-example__cropper{border:1px solid #eee;min-height:325px;max-height:360px;width:100%}.upload-example__cropper-wrapper{position:relative}.upload-example__reset-button{position:absolute;right:20px;bottom:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;height:42px;width:42px;background:rgba(63,179,127,.7);transition:background .5s}.upload-example__reset-button:hover{background:#3fb37f}.upload-example__buttons-wrapper{display:flex;justify-content:center;margin-top:17px}.upload-example__button{border:none;outline:solid transparent;color:#fff;font-size:16px;padding:10px 20px;background:#3fb37f;cursor:pointer;transition:background .5s;margin:0 16px}.upload-example__button:focus,.upload-example__button:hover{background:#38d890}.upload-example__button input{display:none}.upload-example__file-type{position:absolute;top:20px;right:20px;background:#0d0d0d;border-radius:5px;padding:0 10px 2px;font-size:12px;color:#fff}.upload-to-server-example .upload-example-cropper{border:1px solid #eee;min-height:300px;max-height:500px;width:100%}.upload-to-server-example .cropper-wrapper{position:relative}.upload-to-server-example .reset-button{position:absolute;right:20px;bottom:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;height:42px;width:42px;background:rgba(63,179,127,.7);transition:background .5s}.upload-to-server-example .reset-button:hover{background:#3fb37f}.upload-to-server-example .button-wrapper{display:flex;justify-content:center;margin-top:17px}.upload-to-server-example .button{color:#fff;font-size:16px;padding:10px 20px;background:#3fb37f;cursor:pointer;transition:background .5s;width:100%;text-align:center}.upload-to-server-example .button:hover{background:#38d890}.upload-to-server-example .button input{display:none}.circle-example,.common-example{background:#000}.common-example__stencil{background:#fff}.common-example__stencil:after,.common-example__stencil:before{content:"";opacity:.3;position:absolute;pointer-events:none;z-index:1}.common-example__stencil:after{border-left:1px dashed #eee;border-right:1px dashed #eee;width:33%;height:100%;transform:translateX(-50%);left:50%;top:0}.common-example__stencil:before{border-top:1px dashed #eee;border-bottom:1px dashed #eee;height:33%;width:100%;transform:translateY(-50%);top:50%;left:0}.common-example__preview{opacity:.9}.common-example__preview:after{content:"+";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:.5;color:#fff}.common-example__line{border-color:#fff}.common-example__handler{width:5px;height:5px;background:#fff;opacity:.75}.home-example-wrapper{border-top:3px solid #3fb37f;position:relative;overflow:hidden}.home-example-wrapper__code-link{cursor:pointer;position:absolute;z-index:1;display:flex;align-items:center;justify-content:center;right:0;top:0;background:rgba(63,179,127,.9);width:50px;height:47px;padding-bottom:3px}.home-button{border-radius:5px;box-shadow:0 3px 6px 0 rgba(2,3,3,.18);transition:box-shadow .5s;background:#3fb37f;display:flex;text-align:left;align-items:center;padding:9px 21px 9px 14px;color:#fff}#profile-image-cropper .el-dialog__body{padding:10px 20px!important}',""]),o.locals={},t.exports=o},1034:function(t,e,n){"use strict";n(880)},1035:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".font-family[data-v-4c8b71ca]{font-family:inherit!important}.profile-image-container[data-v-4c8b71ca]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;border-radius:10px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:1rem;padding-bottom:1rem}.profile-image-container .icon-img[data-v-4c8b71ca]{display:grid;height:10rem;width:10rem;cursor:pointer;place-items:center;border-radius:8px;border-width:2px;border-color:rgb(119 181 80 / 0.6);font-size:6em;font-weight:900;--tw-text-opacity:1;color:rgb(98 164 78 / var(--tw-text-opacity));text-shadow:1px 5px 7px #949494}.profile-image-container .text-wrapper[data-v-4c8b71ca]{margin-top:0.25rem;display:block;width:100%;text-align:center;font-size:0.8rem;--tw-text-opacity:1;color:rgb(148 148 148 / var(--tw-text-opacity))}.profile-dental-container[data-v-4c8b71ca]{border-radius:10px;padding-top:1rem;padding-bottom:1rem}.profile-dental-container h1[data-v-4c8b71ca]{border-bottom-width:2px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:1rem;padding-bottom:1rem;padding-left:1rem;font-size:1.2rem;font-weight:500}.profile-dental-container .input-wrapper[data-v-4c8b71ca]{--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:0.5rem;padding-bottom:0.5rem}.profile-dental-container .input-wrapper input[data-v-4c8b71ca]{border-style:none;background-color:transparent;padding-left:0.75rem;padding-right:0.75rem;font-size:16px;width:calc(100% - 40px);outline:none!important}.profile-dental-container .input-wrapper-title[data-v-4c8b71ca]{padding-top:0.5rem;padding-bottom:0.5rem}.profile-dental-container .input-wrapper-title input[data-v-4c8b71ca]{border-style:none;background-color:transparent;padding-left:0.75rem;padding-right:0.75rem;font-size:24px;width:calc(100% - 40px);outline:none!important}.scanner-container[data-v-4c8b71ca]{border-radius:10px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:1rem;padding-bottom:1rem}.scanner-container b[data-v-4c8b71ca]{display:block;text-align:center;font-size:0.8rem}.top-profile-image[data-v-4c8b71ca]{position:absolute;margin:0.5rem;margin-top:5%;margin-left:5%;height:90%;width:90%;border-radius:0.5rem;-o-object-fit:cover;object-fit:cover}.spinner-container[data-v-4c8b71ca]{z-index:9999}",""]),o.locals={},t.exports=o},1269:function(t,e,n){"use strict";n.r(e);var o=n(3),r=n(11),l=(n(18),n(772),n(7),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(105),n(196),n(23),n(27),n(1260),n(406),n(30),n(29),n(0).default.extend({props:["width"]})),c=n(1),h=Object(c.a)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.width,height:t.width,viewBox:"0 0 15 15",fill:"none"}},[e("rect",{attrs:{width:"15",height:"15",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_5788_2548",transform:"scale(0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_5788_2548",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABXklEQVRIie3WPU7DMBgG4PcrHRAMMMMRmJA4RNWINhITGxwBCZEsqI7E0IY7wMRU1EaAUTdWBlaOgMTKxELzMVSRUpMYN7E79d0S23n8E8cBVllSyMVDQ9k9Y9AlAx9Aehp7D2/O4VD6goFe7tYXU6MVt0ev+XoN23BBtojTyYXsHDiF+14iCIhUHGjcWodD6YtQ+kKHE7BjFc7WlIGeDifwldKR+qjywKjvJSJfJ+uIFbgIzcJEg7g9DnXtK8E61BRfeI1N0JnM37rihUZsijIgYi9Rt1Q12CZqDNtGjWAX6L+wK1QLu0QBzXbitekQRGNdYwKiKqgWHrQe31PGTWnHAKF+Bq3AszT//DlkaNWRGsHX3vCTf9JdEHeyaa8zvaURLyfrwVP3vKgsmBzu5Y+9upl7q0PpHzFwb3K61M3cVDNwDADEHJSN3FaayvU+gBEz3W1sbj+7hFdZWn4BP5mn2nIMSYMAAAAASUVORK5CYII="}})])])}),[],!1,null,"41730533",null).exports,d=(n(132),n(45)),f=n(22),m=n(56),v=n(903),w=n(706),x=n(1031),y=n(946),M=n(947);function z(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Uint8Array(t).subarray(0,4),header="",i=0;i<n.length;i++)header+=n[i].toString(16);switch(header){case"89504e47":return"image/png";case"47494638":return"image/gif";case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":return"image/jpeg";default:return e}}var C=Object(f.a)(d.a).extend({name:"profile-top-info",props:["userInfo"],data:function(){return Object(r.a)({editEnalble:!0,showScanner:!1,profilePicsSrc:"",qrCls:"qrcode",qrText:"https://photophobic.web.app",size:170,background:"transparent",phone:"",address:"",name:"",profilePhoto:null,isLoading:!1,imageUpload:!1,dialogVisible:!1,image:{src:null,type:null}},"size",{width:null,height:null})},components:{Pencil:h,SpinnerDottedIcon:m.default,Cropper:x.a,VerticalButtons:y.default,SquareButton:M.default,ballloader:v.default},methods:{toggleShow:function(){this.dialogVisible=!this.dialogVisible},getTeamPublicFolder:function(){this.$axios.get()},patchUser:function(){var t=this;""==this.address.trim()&&""==this.phone.trim()||this.isLoading||(this.isLoading=!0,this.$axios.$patch("/users/".concat(this.$auth.user.id),{address:this.address,phone:this.phone}).then((function(){t.$notify.success({message:"Updated successfully"}),t.initialInput=!0,t.initialInput2=!0,t.showUpdateButton=!1,t.isLoading=!1})).catch((function(e){var n=e.response,o=Object(w.a)(n);t.$notify.error({message:o}).finally((function(){t.isLoading=!1}))})))},toggleInput:function(){this.editEnalble=!this.editEnalble},changeProfileimage:function(){},uploadProfilePicture:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=t.target).files.length<1||o.files[0].size/1024/1024>2)){n.next=4;break}return e.$notify.error({message:"File size must be less than 2MB"}),n.abrupt("return");case 4:return(r=new FormData).append("upload",o.files[0],"user-profile-picture.jpg"),r.append("type","profilePicture"),r.append("userId",e.user.id),n.next=10,e.$axios.$patch("/files",r).then((function(t){e.profilePhoto=t.profilePicture,e.filterUsers()})).catch((function(){e.$notify.error({message:"Unable to upload profile picture"})}));case 10:case"end":return n.stop()}}),n)})))()},uploadProfilePicture2:function(image){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.imageUpload=!0,(n=new FormData).append("upload",image,"user-profile-picture.jpg"),n.append("type","profilePicture"),n.append("userId",t.user.id),e.next=7,t.$axios.$patch("/files",n).then((function(e){t.profilePhoto=e.profilePicture,t.dialogVisible=!1,t.imageUpload=!1,t.reset(),t.filterUsers()})).catch((function(){t.imageUpload=!1,t.$notify.error({message:"Unable to upload profile picture"})}));case 7:case"end":return e.stop()}}),e)})))()},saveImage:function(){var t=this;this.$refs.cropper.getResult().canvas.toBlob((function(e){t.uploadProfilePicture2(e)}),this.image.type)},reset:function(){this.image={src:null,type:null};var input=this.$refs.file2;input.type="text",input.type="file"},loadImage:function(t){var e=this,n=t.target.files;if(n&&n[0]){this.image.src&&URL.revokeObjectURL(this.image.src);var o=URL.createObjectURL(n[0]),r=new FileReader;r.onload=function(t){e.image={src:o,type:z(t.target.result,n[0].type)}},r.readAsArrayBuffer(n[0])}},zoom:function(t){this.$refs.cropper.zoom(t)},move:function(t){"left"===t?this.$refs.cropper.move(-this.size.width/4):"right"===t?this.$refs.cropper.move(this.size.width/4):"top"===t?this.$refs.cropper.move(0,-this.size.height/4):"bottom"===t&&this.$refs.cropper.move(0,this.size.height/4)},updateSize:function(t){var e=t.coordinates;this.size.width=Math.round(e.width),this.size.height=Math.round(e.height)},boundaries:function(t){var e=t.cropper;t.imageSize;return{width:e.clientWidth,height:e.clientHeight}}},destroyed:function(){},mounted:function(){var t,e,n;console.log(">>>>>>>>>>>>???",this.userInfo),this.phone=null===(t=this.userInfo)||void 0===t?void 0:t.phone,this.address=null===(e=this.userInfo)||void 0===e?void 0:e.address,this.name=null===(n=this.userInfo)||void 0===n?void 0:n.companyName},computed:{firstCompanyName:function(){var t;return((null===(t=this.userInfo)||void 0===t?void 0:t.companyName)||"").charAt(0).toUpperCase()},showUpdateButton:function(){return!this.editEnalble||!this.editEnalble},qrCodeurl:function(){var t;return"".concat(window.origin,"/public/profile/").concat(null===(t=this.userInfo)||void 0===t?void 0:t.id)},login:function(){return this.$auth.loggedIn},user:function(){var t;return null===(t=this.$auth)||void 0===t?void 0:t.user},isUser:function(){var t,e;return(null===(t=this.user)||void 0===t?void 0:t.id)==(null===(e=this.userInfo)||void 0===e?void 0:e.id)}},watch:{"$auth.user":function(){var t,e;this.address=(null===(t=this.$auth.user)||void 0===t?void 0:t.address)||"",this.phone=(null===(e=this.$auth.user)||void 0===e?void 0:e.phone)||""},userInfo:function(t,e){this.profilePhoto=t.profilePicture}}}),S=(n(1032),n(1034),Object(c.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"flex flex-wrap w-full md:justify-between font-family"},[t.imageUpload?e("ballloader"):t._e(),t._v(" "),e("el-dialog",{attrs:{visible:t.dialogVisible,id:"profile-image-cropper",title:"Profile Image",width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("span",{staticClass:"dialog-footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.saveImage}},[t._v("\n            Upload\n          ")])],1)]},proxy:!0}])},[e("div",[e("div",{staticClass:"upload-example__cropper-wrapper"},[e("cropper",{ref:"cropper",staticClass:"upload-example__cropper",attrs:{"stencil-size":{width:140,height:140},"stencil-props":{handlers:{},movable:!1,resizable:!1,aspectRatio:1},transitions:!0,"image-restriction":"stencil","default-boundaries":t.boundaries,src:t.image.src},on:{change:t.updateSize}}),t._v(" "),e("vertical-buttons",[e("square-button",{attrs:{title:"Zoom In"},on:{click:function(e){return t.zoom(2)}}},[e("img",{attrs:{src:n(1024)}})]),t._v(" "),e("square-button",{attrs:{title:"Zoom Out"},on:{click:function(e){return t.zoom(.5)}}},[e("img",{attrs:{src:n(1025)}})]),t._v(" "),e("square-button",{attrs:{title:"Move Top"},on:{click:function(e){return t.move("top")}}},[e("img",{attrs:{src:n(1026)}})]),t._v(" "),e("square-button",{attrs:{title:"Move Left"},on:{click:function(e){return t.move("left")}}},[e("img",{attrs:{src:n(1027)}})]),t._v(" "),e("square-button",{attrs:{title:"Move Right"},on:{click:function(e){return t.move("right")}}},[e("img",{attrs:{src:n(1028)}})]),t._v(" "),e("square-button",{attrs:{title:"Move Bottom"},on:{click:function(e){return t.move("bottom")}}},[e("img",{attrs:{src:n(1029)}})])],1),t._v(" "),e("div",{staticClass:"upload-example__reset-button",attrs:{title:"Reset Image"},on:{click:function(e){return t.reset()}}},[e("img",{attrs:{src:n(1030)}})]),t._v(" "),t.image.type?e("div",{staticClass:"upload-example__file-type"},[t._v("\n            "+t._s(t.image.type)+"\n          ")]):t._e()],1),t._v(" "),e("div",{staticClass:"upload-example__buttons-wrapper"},[e("button",{staticClass:"upload-example__button",on:{click:function(e){return t.$refs.file2.click()}}},[e("input",{ref:"file2",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.loadImage(e)}}}),t._v("\n            Browse image\n          ")])])])]),t._v(" "),e("div",{staticClass:"bg-white md:w-3/12 lg:w-[19%] w-full profile-image-container"},[e("div",{staticClass:"icon-img relative",on:{click:t.toggleShow}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"referenceInput",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadProfilePicture}}),t._v(" "),null!=t.profilePhoto?e("img",{staticClass:"top-profile-image cursor-pointer",attrs:{src:t.profilePhoto,id:"referenceImg"}}):e("span",[t._v("\n          "+t._s(t.firstCompanyName)+"\n        ")])]),t._v(" "),t.isUser?e("div",{staticClass:"text-wrapper",on:{click:t.toggleShow}},[t._v("Click to upload an image")]):t._e()]),t._v(" "),e("div",{staticClass:"bg-white sm:w-12/12 md:w-9/12 lg:w-[80%] w-full profile-dental-container"},[e("div",{staticClass:"input-wrapper-title"},[e("span",{staticClass:"text-2xl text-grey pl-3"},[t._v(" "+t._s(t.userInfo.companyName))]),t._v(" "),e("button",{staticClass:"float-right",on:{click:t.toggleInput}},[e("Pencil",{attrs:{width:18}})],1)]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],class:[t.editEnalble?"text-gray-400":"text-black"],attrs:{type:"text",placeholder:"Company`s address",disabled:t.editEnalble},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],class:[t.editEnalble?"text-gray-400":"text-black"],attrs:{type:"number",placeholder:"Company`s phone number",disabled:t.editEnalble},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full grid place-items-center"},[t.showUpdateButton?e("button",{staticClass:"w-[160px] flex justify-center items-center text-white py-2 mt-3 text-center border-none bg-paperdazgreen-400 rounded-md",class:[t.isLoading?"opacity-50":"opacity-100"],attrs:{disabled:t.isloading},on:{click:t.patchUser}},[t._v("\n          Update\n          "),t.isLoading?e("SpinnerDottedIcon",{staticClass:"animate-spin ml-2",attrs:{height:"20",width:"20"}}):t._e()],1):t._e()])])],1)}),[],!1,null,"4c8b71ca",null));e.default=S.exports},1366:function(t,e,n){"use strict";n(1023)},1367:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".heart-icon[data-v-148abba8]{transition:.3s}.scale-out[data-v-148abba8]{transform:scale(1.4)}",""]),o.locals={},t.exports=o},1569:function(t,e,n){var content=n(1770);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("425cdb9d",content,!0,{sourceMap:!1})},1594:function(t,e,n){"use strict";n.r(e);n(104),n(29),n(76);var o=n(60),r=n(198),l=n(61),c=n(274),h=n(153),d={name:"ShareFolder",components:{HeartOutlineIcon:o.default,ShareIcon:r.default,ShareOutlineIcon:l.default,ShareFilesModal:c.default,QrcodeShare:h.default},props:{link:String,folder:{type:Object},showShareIcon:{type:Boolean,default:!1}},data:function(){return{fillHeartColor:"none",toggleHeartColor:!0,favouriteFileId:null,showShareCompanyFiles:!1,showQrcodeFiles:!1}},watch:{folder:function(){this.getFavouriteFile()}},mounted:function(){},computed:{user:function(){return this.$auth.user}},methods:{animateElement:function(t){this.$auth.loggedIn&&(t.classList.add("scale-out"),setTimeout((function(){t.classList.remove("scale-out")}),300))},showQrcodeFileFunc:function(){this.showQrcodeFiles=!0},showShareCompanyFilesFunc:function(){this.showShareCompanyFiles=!0},setFileFavourite:function(){var t=this;this.$auth.loggedIn&&(this.animateElement(this.$refs.heart),this.folder&&("none"==this.fillHeartColor?this.$axios.$post("/favourites",{folderId:this.folder.id}).then((function(e){t.fillHeartColor="#77C360",t.favouriteFileId=e.id,t.getFavouriteFile()})):this.$axios.$delete("/favourites/".concat(this.favouriteFileId)).then((function(){t.fillHeartColor="none",t.getFavouriteFile()}))))},getFavouriteFile:function(){var t,e,n=this;this.$auth.loggedIn&&this.folder&&this.$axios.$get("/favourites/?folderId=".concat(this.folder.id,"&userId=").concat(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)).then((function(t){var e;t.data.length>0&&(n.fillHeartColor="#77C360"),n.favouriteFileId=null===(e=t.data[0])||void 0===e?void 0:e.id}))},shareInDevice:function(){navigator.share?navigator.share({title:"Paperdaz",url:this.link}).then((function(){})).catch((function(t){})):console.log("Browser doesn't support this API !")}}},f=(n(1366),n(1)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"self-center flex items-center"},[t.$auth.loggedIn&&t.showShareIcon?e("button",{staticClass:"mr-1.5 pr-1.5 border-[#EBEBEB] border-r flex",on:{click:t.setFileFavourite}},[e("span",{ref:"heart",staticClass:"inline-block heart-icon"},[e("heart-outline-icon",{attrs:{fillColor:t.toggleHeartColor?t.fillHeartColor:"rgb(119,181,80)",width:"22",height:"22"}})],1)]):t._e(),t._v(" "),e("button",{on:{click:t.showShareCompanyFilesFunc}},[e("ShareOutlineIcon")],1),t._v(" "),e("ShareFilesModal",{attrs:{userFile:t.folder},on:{qrLoad:t.showQrcodeFileFunc},model:{value:t.showShareCompanyFiles,callback:function(e){t.showShareCompanyFiles=e},expression:"showShareCompanyFiles"}}),t._v(" "),e("QrcodeShare",{attrs:{userFile:t.folder},model:{value:t.showQrcodeFiles,callback:function(e){t.showQrcodeFiles=e},expression:"showQrcodeFiles"}})],1)}),[],!1,null,"148abba8",null);e.default=component.exports},1769:function(t,e,n){"use strict";n(1569)},1770:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".el-notification{z-index:999999!important}",""]),o.locals={},t.exports=o},1852:function(t,e,n){"use strict";n.r(e);n(30);var o=n(11),r=n(3),l=(n(18),n(29),n(74),n(0)),c=n(630),h=n(132),d=n.n(h),f=n(40),m=n(214),v=n(656),w=n(198),x=n(61),y=n(60),M=n(645),z=(n(419),n(56)),C=(n(915),n(59)),S=n(733),_=n(944),L=(n(35),n(1594)),j=l.default.extend({components:{PenIcon:c.default,SearchIcon:f.default,FolderIcon:m.default,FolderSolidIcon:v.default,ShareIcon:w.default,ShareOutlineIcon:x.default,HeartOutlineIcon:y.default,ForwardOutlineIcon:M.default,SpinnerDottedIcon:z.default,ArrowDownIcon:C.default,FilePagination:S.default,ShareFolder:L.default,ShareFileOptions:_.default},name:"PublicProfilePage",layout:"profile",auth:!1,asyncData:function(t){t.store.commit("SET_PAGE_NAME",{name:"Profile"})},mounted:function(){this.getUserFolders(this.returnedFolderPage,this.searchFolderParam),this.getUserFiles(this.returnedDataPage,this.searchFileParam),this.getTeamPublicInfo(),this.generateQR()},computed:{isAuthor:function(){var t,e;return(null===(t=this.$auth)||void 0===t?void 0:t.user.id)==(null===(e=this.userInfo)||void 0===e?void 0:e.id)}},data:function(){return{returnedDataPage:0,returnedFolderPage:0,totalFile:null,totalFolder:null,searchFolderParam:"",searchFileParam:"",folders:[],files:[],show:!1,showFile:!1,fileSpinner:!0,folderSpinner:!0,checkWEmptyFileFolder:!1,userInfo:{}}},methods:{getMainPaidUser:function(t){var e=this;this.$axios.get("/users/?mainAccountId=".concat(t,"&role=").concat(UserTypeEnum.PAID)).then((function(t){e.userInfo=t.data.data[0]}))},setFilePage:function(t){this.fileSpinner=!0,this.returnedDataPage=t},setFolderPage:function(t){this.folderSpinner=!0,this.returnedFolderPage=t},getTeamPublicInfo:function(){var t=this;this.$axios.get("users/?id=".concat(this.$route.params.id)).then((function(e){var n=e.data.data;n[0];t.userInfo=n[0]})).catch((function(){t.$notify.error({message:"Could not get user"})}))},getUserFolders:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.$axios.$get("/folders/?userId=".concat(n.$route.params.id,"&name[$like]=").concat(e,"%&$skip=").concat(t,"&$sort[updatedAt]=-1")).then((function(t){var e=t.data.map((function(t){return t}));n.folders=e,n.checkWEmptyFileFolder=e<=0,n.totalFolder=t.total,n.folderSpinner=!1}));case 2:case"end":return o.stop()}}),o)})))()},getUserFiles:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.$axios.$get("/files/?userId=".concat(n.$route.params.id,"&fileName[$like]=").concat(e,"%&$skip=").concat(t,"&$sort[updatedAt]=-1"),{params:{isEditing:0}}).then((function(t){var e=t.data.map((function(t){return t}));n.files=e,n.checkWEmptyFileFolder=e<=0,n.fileSpinner=!1,n.totalFile=t.total}));case 2:case"end":return o.stop()}}),o)})))()},generateQR:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.a.toCanvas(t.$refs.qrcancas,location.href,(function(){})),e.next=3,t.$nextTick();case 3:case"end":return e.stop()}}),e)})))()}},watch:Object(o.a)({"$auth.user":function(){this.getUserFolders(this.returnedFolderPage,this.searchFolderParam),this.getUserFiles(this.returnedDataPage,this.searchFileParam)},returnedDataPage:function(){this.fileSpinner=!0,this.getUserFiles(this.returnedDataPage,this.searchFolderParam)},searchFolderParam:function(){this.getUserFolders(this.returnedFolderPage,this.searchFolderParam)},searchFileParam:function(){this.getUserFiles(this.returnedDataPage,this.searchFileParam)},returnedFolderPage:function(){this.getUserFolders(this.returnedFolderPage,this.searchFolderParam)}},"returnedDataPage",(function(){this.getUserFiles(this.returnedDataPage,this.searchFileParam)}))}),A=(n(1769),n(1)),component=Object(A.a)(j,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("ProfileTopInfo",{attrs:{userInfo:t.userInfo}}),t._v(" "),t.checkWEmptyFileFolder?e("div",{staticClass:"mt-4 bg-white rounded-xl"},[e("div",{staticClass:"min-h-[50vh] grid place-items-center p-4"},[e("div",[e("img",{staticClass:"mt-4 md:w-auto sm:w-[200px]",attrs:{src:n(800)}}),t._v(" "),e("p",{staticClass:"text-center text-[22px] text-[#434242] text-md font-medium mt-4 mb-16"},[t.isAuthor?e("span",[t._v("Upload files and create folders!")]):e("span",[t._v("Come back to see our files!")])])])])]):e("div",{staticClass:"mt-4"},[e("div",{staticClass:"bg-white rounded-xl mb-4"},[e("header",{staticClass:"py-3 px-2 mx-4 border-b border-[#DCDCDC] text-paperdazgreen-400 flex flex-wrap items-center gap-2 justify-between"},[e("h4",{staticClass:"text-xl font-medium"},[t._v("Folders")]),t._v(" "),e("div",{staticClass:"flex flex-1 justify-end items-center gap-2 text-xs text-gray-800 relative",on:{submit:function(t){t.preventDefault()}}},[e("span",{staticClass:"el-dropdown-link"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFolderParam,expression:"searchFolderParam"}],staticClass:"rounded-lg border !border-paperdazgreen-400 px-2 h-8 w-48 placeholder:italic",attrs:{type:"text",placeholder:"Search any folder..."},domProps:{value:t.searchFolderParam},on:{input:function(e){e.target.composing||(t.searchFolderParam=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"circle circle-15 bg-paperdazgreen-400 text-white",attrs:{type:"button"},on:{click:function(e){t.show=!t.show}}},[e("search-icon",{attrs:{width:"14",height:"14",currentcolor:"white"}})],1)])]),t._v(" "),e("div",{staticClass:"max-h-36 overflow-y-auto custom-scrollbar relative"},[t.folderSpinner?e("div",{staticClass:"absolute z-10 w-full h-full bg-white top-0 left-0 rounded-lg flex justify-center items-center"},[e("spinner-dotted-icon",{staticClass:"text-paperdazgreen-400 animate-spin"})],1):t._e(),t._v(" "),t.folders.length<1?e("div",{staticClass:"w-full h-20 grid place-items-center"},[e("span",{staticClass:"textr-[15px]"},[t._v("No Folder Available")])]):t._e(),t._v(" "),t._l(t.folders,(function(o,i){return e("div",{key:i+"folder",staticClass:"grid grid-cols-[max-content,1fr] gap-2 items-center mx-4 border-b border-[#DCDCDC] py-2"},[e("img",{staticClass:"w-7",attrs:{src:n(1022)}}),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",{staticClass:"overflow-hidden"},[e("p",{staticClass:"text-[#414142] whitespace-nowrap truncate text-[15px]"},[e("nuxt-link",{staticClass:"cursor-pointer",attrs:{to:"/public-profile/".concat(o.id)}},[t._v(t._s((o||{}).name))])],1)]),t._v(" "),e("ShareFolder",{attrs:{folder:o,showShareIcon:!0}})],1)])}))],2)]),t._v(" "),e("FilePagination",{attrs:{totalFile:t.totalFolder},on:{setPage:t.setFolderPage}}),t._v(" "),e("div",{staticClass:"bg-white rounded-xl pb-4"},[e("header",{staticClass:"py-3 px-2 mx-4 border-b border-[#DCDCDC] text-paperdazgreen-400 flex flex-wrap items-center gap-2 justify-between"},[e("h4",{staticClass:"text-xl font-medium"},[t._v("Files")]),t._v(" "),e("form",{staticClass:"flex flex-1 justify-end items-center gap-2 text-xs text-gray-800 relative",on:{submit:function(t){t.preventDefault()}}},[e("span",{staticClass:"el-dropdown-link"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFileParam,expression:"searchFileParam"}],staticClass:"rounded-lg border !border-paperdazgreen-400 px-2 h-8 w-48 placeholder:italic",attrs:{type:"text",placeholder:"Search any file..."},domProps:{value:t.searchFileParam},on:{input:function(e){e.target.composing||(t.searchFileParam=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"circle circle-15 bg-paperdazgreen-400 text-white",attrs:{type:"button"},on:{click:function(e){t.showFile=!t.showFile}}},[e("search-icon",{attrs:{width:"14",height:"14",currentcolor:"white"}})],1)])]),t._v(" "),e("div",{staticClass:"custom-scrollbar relative"},[t.fileSpinner?e("div",{staticClass:"absolute z-10 w-full h-full bg-white top-0 left-0 rounded-lg flex justify-center items-center"},[e("spinner-dotted-icon",{staticClass:"text-paperdazgreen-400 animate-spin"})],1):t._e(),t._v(" "),t.files.length<1?e("div",{staticClass:"w-full h-20 grid place-items-center"},[e("span",{staticClass:"textr-[15px]"},[t._v("No File Here...")])]):t._l(t.files,(function(n,i){return e("div",{key:i+"file",staticClass:"grid grid-cols-[max-content,1fr,max-content] gap-2 items-center mx-4 border-b border-[#DCDCDC] py-3"},[e("img",{attrs:{src:"/icon.png",width:"23",height:"23"}}),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",{staticClass:"overflow-hidden"},[e("p",{staticClass:"text-[#414142] whitespace-nowrap truncate text-[15px]"},[e("nuxt-link",{staticClass:"cursor-pointer",attrs:{to:"/pdf/".concat(n.paperLink)}},[t._v("\n                  "+t._s((n||{}).fileName||" ")+"\n                ")])],1)]),t._v(" "),e("SearchShare",{attrs:{file:n,showShareIcon:!0}})],1)])}))],2)]),t._v(" "),e("FilePagination",{attrs:{totalFile:t.totalFile},on:{setPage:t.setFilePage}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProfileTopInfo:n(1269).default,SearchShare:n(35).default})},630:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"PenIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this._self._c;this._self._setupProxy;return t("svg",{attrs:{width:"22",height:"21",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M18.9115 4.7064C19.2385 5.0325 19.2385 5.56081 18.9115 5.88697L6.53124 17.2117L4.79584 18.7991L2.35704 16.364L3.94702 14.6314L14.0038 3.67283L13.6286 3.29784L8.88162 8.03745C8.71847 8.20033 8.45353 8.20033 8.29038 8.03745L8.22549 7.97267C8.06234 7.80978 8.06234 7.54527 8.22549 7.38238L14.7752 0.843927C14.9387 0.68104 15.2033 0.68104 15.3668 0.843927L15.4317 0.908378C15.5949 1.07127 15.5949 1.33578 15.4317 1.49866L14.5159 2.41297L14.8521 2.74903L15.2905 2.27169C15.6168 1.94559 16.146 1.94559 16.473 2.27169L18.9115 4.7064ZM0.769531 19.9744L1.18093 20.3859L4.50958 18.9627L2.19428 16.6512L0.769531 19.9744ZM18.5079 0.0351562L19.8829 1.40798L18.9051 0.431762L17.0658 2.26779L19.0303 4.22914L20.8697 2.39278L21.2456 2.7681C21.2456 2.76843 21.3711 0.306439 18.5079 0.0351562Z",fill:"currentColor"}})])}),[],!1,null,null,null);e.default=component.exports},645:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"ForwardOutlineIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{staticClass:"fill-current",attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{"clip-path":"url(#clip0_3848_18912)"}},[e("path",{attrs:{d:"M15.9373 18H2.06239C0.924629 18 0 17.0752 0 15.9376V5.06263C0 3.92487 0.924629 3.00024 2.06239 3.00024H4.68741C4.99791 3.00024 5.24991 3.25224 5.24991 3.56274C5.24991 3.87324 4.99791 4.12523 4.68741 4.12523H2.06239C1.54563 4.12523 1.12499 4.54587 1.12499 5.06263V15.9376C1.12499 16.4542 1.54563 16.875 2.06239 16.875H15.9373C16.4541 16.875 16.8748 16.4542 16.8748 15.9376V9.56259C16.8748 9.25209 17.1268 9.00009 17.4373 9.00009C17.7478 9.00009 17.9998 9.25209 17.9998 9.56259V15.9376C17.9998 17.0752 17.0751 18 15.9373 18Z"}}),t._v(" "),e("path",{attrs:{d:"M5.06167 11.9904C5.02047 11.9904 4.97914 11.9858 4.93794 11.9753C4.68374 11.9161 4.5 11.6985 4.5 11.4376V10.3126C4.5 6.28068 7.78049 3.0002 11.8124 3.0002H11.9999V0.562633C11.9999 0.333158 12.1394 0.126892 12.3524 0.04065C12.5646 -0.0447679 12.8083 0.00686729 12.9674 0.172622L17.8424 5.23507C18.0523 5.4526 18.0523 5.79757 17.8424 6.01509L12.9674 11.0775C12.8083 11.2433 12.5631 11.2944 12.3524 11.2095C12.1394 11.1233 11.9999 10.917 11.9999 10.6875V8.2501H11.1089C8.74947 8.2501 6.62913 9.56103 5.57473 11.6708C5.47791 11.8658 5.27467 11.9904 5.06167 11.9904ZM11.8124 4.12519C8.6624 4.12519 6.054 6.49135 5.67223 9.54002C7.03562 8.01912 8.99089 7.12511 11.1089 7.12511H12.5624C12.8729 7.12511 13.1249 7.37711 13.1249 7.68761V9.29256L16.6565 5.62508L13.1249 1.95761V3.56269C13.1249 3.87319 12.8729 4.12519 12.5624 4.12519H11.8124Z"}})]),t._v(" "),e("defs",[e("clipPath",{attrs:{id:"clip0_3848_18912"}},[e("rect",{attrs:{width:"18",height:"18",fill:"white"}})])])])}),[],!1,null,null,null);e.default=component.exports},656:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"FolderSolidIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("rect",{attrs:{width:"30",height:"30",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_3848_19071",transform:"scale(0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_3848_19071",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABPklEQVRIie3SsUrDQBjA8f93Ci2+ggri7gtE8wQ+g1gHO3YSdBEyCBoQXO2gYFdBNApOKthJJ0VQKI4OZiyIikg+h2jaNNUpScH2v91xfD+OOxj035P2xfLl/CwiVWC0y8k71My59u5tGrDpGL7dFQVQpiA4cC5KxTTg+I3rJU1jaDJ9QrTsztROf3bMX8fTS8ZUTbV9JycYBMZ7AnfWM7j/EoCV+sKaoktAIWPvHXTTtfdWDYCilRxQgCJIBb4/l8BNDmiYhFZ4YxEvN1fVi2Ax5jA3GD2O4A1r5xHkIQf3ft2uNSI4TI+yVkVbRgQbE2T+zoFp/aUILliTV8Bzhq4/Mj1xnYAdcQIVPckQ9hxxggQMoGqye2eN/6EY/Dn0cobQTB0Vmh/Dr+e/wlvW/htoGfBTZH1RFsPZg/qpL4z0WxxCKWZhAAAAAElFTkSuQmCC"}})])])}),[],!1,null,null,null);e.default=component.exports},706:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(85),n(86);function o(t){var e,n,o,r,l,c,h,d,f,m;console.log("error-handler",t);var v=(null===(n=null===(e=t)||void 0===e?void 0:e.data)||void 0===n?void 0:n.errors[0])||(null===(r=null===(o=t)||void 0===o?void 0:o.data)||void 0===r?void 0:r.message);return console.log("error-handler",v),(null===(l=(null==v?void 0:v.message)||v)||void 0===l?void 0:l.includes("email"))?"Email already exists":(null===(c=(null==v?void 0:v.message)||v)||void 0===c?void 0:c.includes("phone"))?"Phone number already exists":(null===(h=(null==v?void 0:v.message)||v)||void 0===h?void 0:h.includes("Invalid login"))?"Email or password is Incorrect":null==v?"Network error":(null===(d=(null==v?void 0:v.message)||v)||void 0===d?void 0:d.includes("subscriptions.userId"))?"You are already a subscribe user":(null===(f=(null==v?void 0:v.message)||v)||void 0===f?void 0:f.includes("Cannot read properties of undefined (reading 'teamMembers')"))?"Team trying to join does not exist":(null===(m=(null==v?void 0:v.message)||v)||void 0===m?void 0:m.includes("Stripe"))?"Error occured, Trying to send card info":void 0}},714:function(t,e,n){var content=n(736);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("4d131c3c",content,!0,{sourceMap:!1})},715:function(t,e){},716:function(t,e){},717:function(t,e){},718:function(t,e){},719:function(t,e){},720:function(t,e){},721:function(t,e){},722:function(t,e){},723:function(t,e){},724:function(t,e){},725:function(t,e,n){var content=n(738);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("e97e6fb2",content,!0,{sourceMap:!1})},733:function(t,e,n){"use strict";n.r(e);n(272);var o=n(59),r={name:"filePagination",props:{setPage:{type:Function},totalFile:{}},data:function(){return{returnedDataPage:0,eachPageTotal:10}},components:{ArrowDownIcon:o.default},methods:{buttonFilePage:function(t){this.returnedDataPage=this.eachPageTotal*(t-1),this.$emit("setPage",this.returnedDataPage)}},watch:{returnedDataPage:function(){}},computed:{availablePages:function(){return Math.floor(this.totalFile/this.eachPageTotal)>5?Math.floor(this.totalFile/this.eachPageTotal):Math.floor(this.totalFile/this.eachPageTotal)+2},arrayPages:function(){for(var t=[],i=1;i<this.availablePages;i++)t.push(i);return t}}},l=(n(735),n(1)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return t.totalFile>t.eachPageTotal?e("div",{staticClass:"grid place-items-center py-5"},[e("div",[e("paginate",{attrs:{"page-count":t.arrayPages.length+1,"click-handler":t.buttonFilePage,"prev-text":"&#8249;","next-text":"&#8250;","container-class":"paginate","page-class":"page-item"}})],1)]):t._e()}),[],!1,null,"b8bb5c98",null);e.default=component.exports},735:function(t,e,n){"use strict";n(714)},736:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".page-item[data-v-b8bb5c98]{background:red!important}.pagination-arrow-left[data-v-b8bb5c98]{height:2.25rem;min-width:36px;border-radius:0.25rem;padding-left:0.75rem;padding-right:0.75rem;font-size:0.75rem;line-height:1rem;font-weight:500;transform:rotate(90deg)}.pagination-arrow-right[data-v-b8bb5c98]{height:2.25rem;min-width:36px;border-radius:0.25rem;padding-left:0.75rem;padding-right:0.75rem;font-size:0.75rem;line-height:1rem;font-weight:500;transform:rotate(-90deg)}",""]),o.locals={},t.exports=o},737:function(t,e,n){"use strict";n(725)},738:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".color-white[data-v-5f398dd0]{fill:#fff!important}*[data-v-5f398dd0] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-5f398dd0] .el-dialog__header{padding-bottom:20px}*[data-v-5f398dd0] .el-dialog__footer,*[data-v-5f398dd0] .el-dialog__header{text-align:left!important}*[data-v-5f398dd0] .el-dialog__body{background:#fcfcfd}*[data-v-5f398dd0] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}.icons-container button[data-v-5f398dd0]{display:inline-flex;height:40px;width:40px;align-items:center;justify-content:center;border-radius:9999px;background-color:rgb(119 195 96 / 0.2)}",""]),o.locals={},t.exports=o},749:function(t,e,n){"use strict";n.r(e);n(34),n(37),n(53),n(54);var o=n(11),r=n(3),l=(n(18),n(7),n(24),n(57),n(23),n(196),n(38),n(29),n(0)),c=n(56),h=n(64),d=n(65),f=n(66),m=n(199),v=n(204),w=n(205),x=n(203),y=n(153);n(709),n(275);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=l.default.extend({name:"request-modal",components:{SpinnerDottedIcon:c.default,FacebookIcon:h.default,TwitterIcon:d.default,EnvelopeIcon:f.default,PlusIcon:m.default,LinkIcon:v.default,EnvelopeIconShare:w.default,QrcodeIcon:x.default,QrcodeShare:y.default},model:{prop:"visible",event:"updateVisibility"},props:{packagename:{type:String},userFile:{type:Object},visible:{type:Boolean,default:!1}},data:function(){return{showQrcodeFiles:!1,folderTextareaData:"",showModal:!1,loading:!1,twiterLink:"",inputs:[0],generateFileProperty:{},proceedToRequest:!0,generatedFile:{}}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)}},mounted:function(){this.showModal=this.visible},methods:{generateAndUploadPdf:function(){},addEmailinputs:function(){var t=!0;Array.from(this.$refs.form.elements).forEach((function(element){"email"!=element.type||element.value.trim()||(t=!1)})),t&&this.inputs.push(this.inputs.length)},showQrcodeFileFuncEmit:function(){this.$emit("qrLoad"),this.$emit("updateVisibility",!1)},closeModal:function(){this.$emit("updateVisibility",!1)},_generatePdf:function(t){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},uploadGeneratedFile:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(e.generateFileProperty).length<1)){n.next=2;break}return n.abrupt("return");case 2:return o={isEditing:!0,downloadLink:t.downloadLink,key:t.key,originalFileId:e.userFile.id,userId:e.$auth.user.id,fileAction:e.userFile.fileAction},n.next=5,e.$axios.$post("/files",z({},o)).then((function(t){e.generatedFile=t})).catch((function(t){e.proceedToRequest=!1}));case 5:case"end":return n.stop()}}),n)})))()},onSubmit:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==t||t.preventDefault(),e.loading=!0,o={},r=[],Array.from(t.target.elements).forEach((function(element){"email"==element.type&&r.push(element.value)})),o=z(z({action:"referral_link"},o),{},{link:"".concat(window.location.origin,"/pdf/").concat(e.userFile.paperLink),fileId:e.userFile.id,emails:r,note:e.folderTextareaData}),e.$axios.$post("/request",o).then((function(t){e.$notify.success({title:"Request",message:"Request sent Successfully"}),e.$emit("updateVisibility",!1),e.$emit("refresh"),e.$nuxt.refresh()})).catch((function(t){e.$notify.error({title:"Request",message:"Request Failed"})})).finally((function(){e.loading=!1}));case 7:case"end":return n.stop()}}),n)})))()}}}),S=(n(737),n(1)),component=Object(S.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"text-center font-semibold text-xl"},[t._v("Request")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"text-centerfont-medium flex justify-between item mx-auto mb-4 whitespace-none"},[e("p",{staticClass:"w-[87%]"},t._l(t.inputs,(function(input){return e("input",{key:input,staticClass:"py-2 focus:border-paperdazgray-500 px-4 w-full mb-2 rounded-md border-[1px] border-paperdazgray-500",attrs:{required:"",type:"email",placeholder:"E-mail"}})})),0),t._v(" "),e("button",{staticClass:"w-[35px] h-[35px] rounded-full bg-paperdazgray-500 grid place-content-center",on:{click:function(e){return e.preventDefault(),t.addEmailinputs.apply(null,arguments)}}},[e("span",{staticClass:"text-white text-[30px]"},[t._v("+")])])]),t._v(" "),e("p",{staticClass:"text-center block font-medium mx-auto mb-4 whitespace-none"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.folderTextareaData,expression:"folderTextareaData"}],staticClass:"w-full py-2 px-4 focus:border-paperdazgray-500 outline-none rounded-md h-28 resize-none border-[1px] border-paperdazgray-500",attrs:{required:"",placeholder:"Note..."},domProps:{value:t.folderTextareaData},on:{input:function(e){e.target.composing||(t.folderTextareaData=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-around"},[e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[900%] text-white rounded-xl shadow bg-paperdazgreen-400",attrs:{disabled:t.loading}},[e("span",{staticClass:"inline-flex gap-1 items-center text-[16px]"},[t._v("\n         Send\n          "),e("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])])])}),[],!1,null,"5f398dd0",null);e.default=component.exports},762:function(t,e,n){var content=n(842);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("6b46780b",content,!0,{sourceMap:!1})},800:function(t,e,n){t.exports=n.p+"img/dashboard-bg.8cb490e.png"},814:function(t,e,n){var content=n(917);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("93e4db64",content,!0,{sourceMap:!1})},815:function(t,e,n){var content=n(919);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("0784d5af",content,!0,{sourceMap:!1})},816:function(t,e,n){var content=n(921);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("628715a4",content,!0,{sourceMap:!1})},841:function(t,e,n){"use strict";n(762)},842:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,'.spinner-container[data-v-0f686e88]{position:absolute;top:0px;left:0px;z-index:1;display:flex;height:100%;min-height:200px;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.loader[data-v-0f686e88]{position:absolute;width:50px;height:50px;top:50%;left:50%;margin-top:-10vh;margin-left:-10vh;perspective:60vh}.loader[data-v-0f686e88]:after,.loader[data-v-0f686e88]:before{content:" ";position:absolute;width:100%;height:100%;border-radius:50%}.loader[data-v-0f686e88]:before{left:-13.3333333333vh;background:linear-gradient(135deg,#a6e593,#77c360);animation:rotation1-0f686e88 1.5s ease-out infinite}.loader[data-v-0f686e88]:after,.loader[data-v-0f686e88]:before{transform:translateZ(0);z-index:1}.loader[data-v-0f686e88]:after{right:-13.3333333333vh;background:linear-gradient(135deg,#000,grey);animation:rotation2-0f686e88 1.5s ease-out infinite}@keyframes rotation1-0f686e88{25%{left:0;transform:translateZ(-10vh)}50%{left:13.3333333333vh;transform:translateZ(0)}75%{left:0;transform:translateZ(20vh);z-index:2}}@keyframes rotation2-0f686e88{25%{right:0;transform:translateZ(20vh);z-index:2}50%{right:13.3333333333vh;transform:translateZ(0)}75%{right:0;transform:translateZ(-10vh)}}',""]),o.locals={},t.exports=o},879:function(t,e,n){var content=n(1033);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("bebf4a74",content,!0,{sourceMap:!1})},880:function(t,e,n){var content=n(1035);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("720e8e94",content,!0,{sourceMap:!1})},903:function(t,e,n){"use strict";n.r(e);var o={},r=(n(841),n(1)),component=Object(r.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"spinner-container"},[t("div",{staticClass:"loader"})])}],!1,null,"0f686e88",null);e.default=component.exports},915:function(t,e,n){"use strict";var o=n(4);e.a={created:function(){},watch:{"$auth.user":function(){this.$auth.user.role!==o.a.PAID&&this.$auth.user.role!==o.a.TEAM&&this.$nuxt.$router.push("/dashboard")}}}},916:function(t,e,n){"use strict";n(814)},917:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".icon-container[data-v-53c1e01a]{display:flex}.icon-container button[data-v-53c1e01a]{margin-right:0em;display:flex;width:2rem;justify-content:center;font-size:20px}.arrow-icon[data-v-53c1e01a]{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.search-container[data-v-53c1e01a]{display:flex;width:66.666667%;align-items:center;justify-content:flex-end;padding-right:0.75rem}.folder-search[data-v-53c1e01a]{width:160px;border-radius:0.375rem;border-width:1.3px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:6px;padding-bottom:6px;padding-left:0.5rem;padding-right:0.5rem;font-size:0.8rem}.heartTopIcon[data-v-53c1e01a]{position:absolute;left:7px;top:-0.25rem;display:grid;width:23px;place-items:center;border-radius:20px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-left:3px;padding-right:3px;padding-top:1.5px;padding-bottom:1.5px;padding-bottom:0;font-size:9px;font-weight:700;line-height:10px}.heart-icon[data-v-53c1e01a]{transition:.3s}.scale-out[data-v-53c1e01a]{transform:scale(1.4)}",""]),o.locals={},t.exports=o},918:function(t,e,n){"use strict";n(815)},919:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".vertical-buttons{position:absolute;left:10px;top:50%;transform:translateY(-50%)}",""]),o.locals={},t.exports=o},920:function(t,e,n){"use strict";n(816)},921:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".square-button{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;height:42px;width:42px;margin-bottom:10px;cursor:pointer;transition:background .5s}.square-button:hover{background:#000}",""]),o.locals={},t.exports=o},944:function(t,e,n){"use strict";n.r(e);n(29),n(401),n(104);var o=n(60),r=n(61),l=n(645),c=n(274),h=n(153),d=n(749),f={name:"sharefileoptions",components:{HeartOutlineIcon:o.default,ShareOutlineIcon:r.default,ForwardOutlineIcon:l.default,ShareFilesModal:c.default,QrcodeShare:h.default,RequestModal:d.default},data:function(){return{isHeart:!1,fillHeartColor:"none",showShareCompanyFiles:!1,showQrcodeFiles:!1,favouriteFileId:null,totalShared:null,showRequestModal:!1}},props:{file:{}},computed:{isLoggedIn:function(){var t;return null===(t=this.$auth)||void 0===t?void 0:t.loggedIn},user:function(){var t;return(null===(t=this.$auth)||void 0===t?void 0:t.user)||{}}},methods:{shareInDevice:function(){navigator.share&&navigator.share({title:"Paperdaz",url:"".concat(window.location.origin,"/pdf/").concat(this.file.paperLink)}).then((function(){})).catch((function(t){}))},showRequestModalFunc:function(){this.showRequestModal=!0},getFavouriteFile:function(){var t=this;this.$axios.$get("/favourites/?fileId=".concat(this.file.id,"&userId=").concat(this.user.id)).then((function(e){e.data.length>0&&(t.fillHeartColor="#77C360"),t.favouriteFileId=e.data[0].id})),this.$axios.$get("/favourites/?fileId=".concat(this.file.id)).then((function(e){t.totalShared=Number(e.total)}))},showQrcodeFileFunc:function(){this.showQrcodeFiles=!0,this.showShareCompanyFiles=!1},showShareCompanyFilesFunc:function(){this.$auth.loggedIn?this.showShareCompanyFiles=!0:this.shareInDevice()},animateElement:function(t){t.classList.add("scale-out"),setTimeout((function(){t.classList.remove("scale-out")}),300)},setFileFavourite:function(){var t=this;this.animateElement(this.$refs.heart),"none"==this.fillHeartColor?this.$axios.$post("/favourites",{fileId:this.file.id}).then((function(e){t.fillHeartColor="#77C360",t.favouriteFileId=e.id,t.getFavouriteFile()})):this.$axios.$delete("/favourites/".concat(this.favouriteFileId)).then((function(){t.fillHeartColor="none",t.getFavouriteFile()}))}},mounted:function(){this.getFavouriteFile()}},m=(n(916),n(1)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-[#9D9D9D] flex items-right justify-end gap-2"},[e("button",{on:{click:t.showShareCompanyFilesFunc}},[e("share-outline-icon",{attrs:{width:"20",height:"20"}})],1),t._v(" "),e("ShareFilesModal",{attrs:{userFile:t.file},on:{qrLoad:t.showQrcodeFileFunc},model:{value:t.showShareCompanyFiles,callback:function(e){t.showShareCompanyFiles=e},expression:"showShareCompanyFiles"}}),t._v(" "),e("RequestModal",{attrs:{userFile:t.userFile},on:{refresh:t.setRefresh,qrLoad:t.showQrcodeFileFunc},model:{value:t.showRequestModal,callback:function(e){t.showRequestModal=e},expression:"showRequestModal"}}),t._v(" "),e("QrcodeShare",{attrs:{userFile:t.file},model:{value:t.showQrcodeFiles,callback:function(e){t.showQrcodeFiles=e},expression:"showQrcodeFiles"}})],1)}),[],!1,null,"53c1e01a",null);e.default=component.exports},946:function(t,e,n){"use strict";n.r(e);n(918);var o=n(1),component=Object(o.a)({},(function(){return(0,this._self._c)("div",{staticClass:"vertical-buttons"},[this._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},947:function(t,e,n){"use strict";n.r(e);n(920);var o=n(1),component=Object(o.a)({},(function(){var t=this;return(0,t._self._c)("div",t._b({staticClass:"square-button",on:{click:function(e){return t.$emit("click",e)}}},"div",t.$attrs,!1),[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports}}]);